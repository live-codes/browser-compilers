"use strict";var wastRefmt=(()=>{var Ho=Object.create;var et=Object.defineProperty;var Xo=Object.getOwnPropertyDescriptor;var zo=Object.getOwnPropertyNames;var Vo=Object.getPrototypeOf,Zo=Object.prototype.hasOwnProperty;var j=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),$o=(t,e)=>{for(var r in e)et(t,r,{get:e[r],enumerable:!0})},qr=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of zo(e))!Zo.call(t,s)&&s!==r&&et(t,s,{get:()=>e[s],enumerable:!(n=Xo(e,s))||n.enumerable});return t};var Qo=(t,e,r)=>(r=t!=null?Ho(Vo(t)):{},qr(e||!t||!t.__esModule?et(r,"default",{value:t,enumerable:!0}):r,t)),Ko=t=>qr(et({},"__esModule",{value:!0}),t);var je=j(i=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.module=Jo;i.moduleMetadata=Yo;i.moduleNameMetadata=ei;i.functionNameMetadata=ti;i.localNameMetadata=ri;i.binaryModule=ni;i.quoteModule=oi;i.sectionMetadata=ii;i.producersSectionMetadata=ai;i.producerMetadata=ui;i.producerMetadataVersionedName=si;i.loopInstruction=fi;i.instr=li;i.ifInstruction=ci;i.stringLiteral=di;i.numberLiteral=pi;i.longNumberLiteral=yi;i.floatLiteral=mi;i.elem=hi;i.indexInFuncSection=gi;i.valtypeLiteral=vi;i.typeInstruction=bi;i.start=wi;i.globalType=xi;i.leadingComment=ki;i.blockComment=_i;i.data=Ii;i.global=Ei;i.table=Mi;i.memory=Fi;i.funcImportDescr=Si;i.moduleImport=Pi;i.moduleExportDescr=Li;i.moduleExport=Ni;i.limit=Oi;i.signature=Ti;i.program=Ai;i.identifier=Ci;i.blockInstruction=qi;i.callInstruction=Bi;i.callIndirectInstruction=ji;i.byteArray=Di;i.func=Ri;i.internalBrUnless=Ui;i.internalGoto=Gi;i.internalCallExtern=Wi;i.internalEndAndReturn=Hi;i.assertInternalCallExtern=i.assertInternalGoto=i.assertInternalBrUnless=i.assertFunc=i.assertByteArray=i.assertCallIndirectInstruction=i.assertCallInstruction=i.assertBlockInstruction=i.assertIdentifier=i.assertProgram=i.assertSignature=i.assertLimit=i.assertModuleExport=i.assertModuleExportDescr=i.assertModuleImport=i.assertFuncImportDescr=i.assertMemory=i.assertTable=i.assertGlobal=i.assertData=i.assertBlockComment=i.assertLeadingComment=i.assertGlobalType=i.assertStart=i.assertTypeInstruction=i.assertValtypeLiteral=i.assertIndexInFuncSection=i.assertElem=i.assertFloatLiteral=i.assertLongNumberLiteral=i.assertNumberLiteral=i.assertStringLiteral=i.assertIfInstruction=i.assertInstr=i.assertLoopInstruction=i.assertProducerMetadataVersionedName=i.assertProducerMetadata=i.assertProducersSectionMetadata=i.assertSectionMetadata=i.assertQuoteModule=i.assertBinaryModule=i.assertLocalNameMetadata=i.assertFunctionNameMetadata=i.assertModuleNameMetadata=i.assertModuleMetadata=i.assertModule=i.isIntrinsic=i.isImportDescr=i.isNumericLiteral=i.isExpression=i.isInstruction=i.isBlock=i.isNode=i.isInternalEndAndReturn=i.isInternalCallExtern=i.isInternalGoto=i.isInternalBrUnless=i.isFunc=i.isByteArray=i.isCallIndirectInstruction=i.isCallInstruction=i.isBlockInstruction=i.isIdentifier=i.isProgram=i.isSignature=i.isLimit=i.isModuleExport=i.isModuleExportDescr=i.isModuleImport=i.isFuncImportDescr=i.isMemory=i.isTable=i.isGlobal=i.isData=i.isBlockComment=i.isLeadingComment=i.isGlobalType=i.isStart=i.isTypeInstruction=i.isValtypeLiteral=i.isIndexInFuncSection=i.isElem=i.isFloatLiteral=i.isLongNumberLiteral=i.isNumberLiteral=i.isStringLiteral=i.isIfInstruction=i.isInstr=i.isLoopInstruction=i.isProducerMetadataVersionedName=i.isProducerMetadata=i.isProducersSectionMetadata=i.isSectionMetadata=i.isQuoteModule=i.isBinaryModule=i.isLocalNameMetadata=i.isFunctionNameMetadata=i.isModuleNameMetadata=i.isModuleMetadata=i.isModule=void 0;i.nodeAndUnionTypes=i.unionTypesMap=i.assertInternalEndAndReturn=void 0;function k(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?k=function(r){return typeof r}:k=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},k(t)}function S(t){return function(e){return e.type===t}}function P(t){return function(e){return function(){if(e.type!==t)throw new Error("n.type === t error: unknown")}()}}function Jo(t,e,r){if(t!=null&&typeof t!="string")throw new Error('typeof id === "string" error: '+("Argument id must be of type string, given: "+k(t)||"unknown"));if(!(k(e)==="object"&&typeof e.length<"u"))throw new Error('typeof fields === "object" && typeof fields.length !== "undefined" error: unknown');var n={type:"Module",id:t,fields:e};return typeof r<"u"&&(n.metadata=r),n}function Yo(t,e,r,n){if(!(k(t)==="object"&&typeof t.length<"u"))throw new Error('typeof sections === "object" && typeof sections.length !== "undefined" error: unknown');if(e!=null&&!(k(e)==="object"&&typeof e.length<"u"))throw new Error('typeof functionNames === "object" && typeof functionNames.length !== "undefined" error: unknown');if(r!=null&&!(k(r)==="object"&&typeof r.length<"u"))throw new Error('typeof localNames === "object" && typeof localNames.length !== "undefined" error: unknown');if(n!=null&&!(k(n)==="object"&&typeof n.length<"u"))throw new Error('typeof producers === "object" && typeof producers.length !== "undefined" error: unknown');var s={type:"ModuleMetadata",sections:t};return typeof e<"u"&&e.length>0&&(s.functionNames=e),typeof r<"u"&&r.length>0&&(s.localNames=r),typeof n<"u"&&n.length>0&&(s.producers=n),s}function ei(t){if(typeof t!="string")throw new Error('typeof value === "string" error: '+("Argument value must be of type string, given: "+k(t)||"unknown"));var e={type:"ModuleNameMetadata",value:t};return e}function ti(t,e){if(typeof t!="string")throw new Error('typeof value === "string" error: '+("Argument value must be of type string, given: "+k(t)||"unknown"));if(typeof e!="number")throw new Error('typeof index === "number" error: '+("Argument index must be of type number, given: "+k(e)||"unknown"));var r={type:"FunctionNameMetadata",value:t,index:e};return r}function ri(t,e,r){if(typeof t!="string")throw new Error('typeof value === "string" error: '+("Argument value must be of type string, given: "+k(t)||"unknown"));if(typeof e!="number")throw new Error('typeof localIndex === "number" error: '+("Argument localIndex must be of type number, given: "+k(e)||"unknown"));if(typeof r!="number")throw new Error('typeof functionIndex === "number" error: '+("Argument functionIndex must be of type number, given: "+k(r)||"unknown"));var n={type:"LocalNameMetadata",value:t,localIndex:e,functionIndex:r};return n}function ni(t,e){if(t!=null&&typeof t!="string")throw new Error('typeof id === "string" error: '+("Argument id must be of type string, given: "+k(t)||"unknown"));if(!(k(e)==="object"&&typeof e.length<"u"))throw new Error('typeof blob === "object" && typeof blob.length !== "undefined" error: unknown');var r={type:"BinaryModule",id:t,blob:e};return r}function oi(t,e){if(t!=null&&typeof t!="string")throw new Error('typeof id === "string" error: '+("Argument id must be of type string, given: "+k(t)||"unknown"));if(!(k(e)==="object"&&typeof e.length<"u"))throw new Error('typeof string === "object" && typeof string.length !== "undefined" error: unknown');var r={type:"QuoteModule",id:t,string:e};return r}function ii(t,e,r,n){if(typeof e!="number")throw new Error('typeof startOffset === "number" error: '+("Argument startOffset must be of type number, given: "+k(e)||"unknown"));var s={type:"SectionMetadata",section:t,startOffset:e,size:r,vectorOfSize:n};return s}function ai(t){if(!(k(t)==="object"&&typeof t.length<"u"))throw new Error('typeof producers === "object" && typeof producers.length !== "undefined" error: unknown');var e={type:"ProducersSectionMetadata",producers:t};return e}function ui(t,e,r){if(!(k(t)==="object"&&typeof t.length<"u"))throw new Error('typeof language === "object" && typeof language.length !== "undefined" error: unknown');if(!(k(e)==="object"&&typeof e.length<"u"))throw new Error('typeof processedBy === "object" && typeof processedBy.length !== "undefined" error: unknown');if(!(k(r)==="object"&&typeof r.length<"u"))throw new Error('typeof sdk === "object" && typeof sdk.length !== "undefined" error: unknown');var n={type:"ProducerMetadata",language:t,processedBy:e,sdk:r};return n}function si(t,e){if(typeof t!="string")throw new Error('typeof name === "string" error: '+("Argument name must be of type string, given: "+k(t)||"unknown"));if(typeof e!="string")throw new Error('typeof version === "string" error: '+("Argument version must be of type string, given: "+k(e)||"unknown"));var r={type:"ProducerMetadataVersionedName",name:t,version:e};return r}function fi(t,e,r){if(!(k(r)==="object"&&typeof r.length<"u"))throw new Error('typeof instr === "object" && typeof instr.length !== "undefined" error: unknown');var n={type:"LoopInstruction",id:"loop",label:t,resulttype:e,instr:r};return n}function li(t,e,r,n){if(typeof t!="string")throw new Error('typeof id === "string" error: '+("Argument id must be of type string, given: "+k(t)||"unknown"));if(!(k(r)==="object"&&typeof r.length<"u"))throw new Error('typeof args === "object" && typeof args.length !== "undefined" error: unknown');var s={type:"Instr",id:t,args:r};return typeof e<"u"&&(s.object=e),typeof n<"u"&&Object.keys(n).length!==0&&(s.namedArgs=n),s}function ci(t,e,r,n,s){if(!(k(e)==="object"&&typeof e.length<"u"))throw new Error('typeof test === "object" && typeof test.length !== "undefined" error: unknown');if(!(k(n)==="object"&&typeof n.length<"u"))throw new Error('typeof consequent === "object" && typeof consequent.length !== "undefined" error: unknown');if(!(k(s)==="object"&&typeof s.length<"u"))throw new Error('typeof alternate === "object" && typeof alternate.length !== "undefined" error: unknown');var c={type:"IfInstruction",id:"if",testLabel:t,test:e,result:r,consequent:n,alternate:s};return c}function di(t){if(typeof t!="string")throw new Error('typeof value === "string" error: '+("Argument value must be of type string, given: "+k(t)||"unknown"));var e={type:"StringLiteral",value:t};return e}function pi(t,e){if(typeof t!="number")throw new Error('typeof value === "number" error: '+("Argument value must be of type number, given: "+k(t)||"unknown"));if(typeof e!="string")throw new Error('typeof raw === "string" error: '+("Argument raw must be of type string, given: "+k(e)||"unknown"));var r={type:"NumberLiteral",value:t,raw:e};return r}function yi(t,e){if(typeof e!="string")throw new Error('typeof raw === "string" error: '+("Argument raw must be of type string, given: "+k(e)||"unknown"));var r={type:"LongNumberLiteral",value:t,raw:e};return r}function mi(t,e,r,n){if(typeof t!="number")throw new Error('typeof value === "number" error: '+("Argument value must be of type number, given: "+k(t)||"unknown"));if(e!=null&&typeof e!="boolean")throw new Error('typeof nan === "boolean" error: '+("Argument nan must be of type boolean, given: "+k(e)||"unknown"));if(r!=null&&typeof r!="boolean")throw new Error('typeof inf === "boolean" error: '+("Argument inf must be of type boolean, given: "+k(r)||"unknown"));if(typeof n!="string")throw new Error('typeof raw === "string" error: '+("Argument raw must be of type string, given: "+k(n)||"unknown"));var s={type:"FloatLiteral",value:t,raw:n};return e===!0&&(s.nan=!0),r===!0&&(s.inf=!0),s}function hi(t,e,r){if(!(k(e)==="object"&&typeof e.length<"u"))throw new Error('typeof offset === "object" && typeof offset.length !== "undefined" error: unknown');if(!(k(r)==="object"&&typeof r.length<"u"))throw new Error('typeof funcs === "object" && typeof funcs.length !== "undefined" error: unknown');var n={type:"Elem",table:t,offset:e,funcs:r};return n}function gi(t){var e={type:"IndexInFuncSection",index:t};return e}function vi(t){var e={type:"ValtypeLiteral",name:t};return e}function bi(t,e){var r={type:"TypeInstruction",id:t,functype:e};return r}function wi(t){var e={type:"Start",index:t};return e}function xi(t,e){var r={type:"GlobalType",valtype:t,mutability:e};return r}function ki(t){if(typeof t!="string")throw new Error('typeof value === "string" error: '+("Argument value must be of type string, given: "+k(t)||"unknown"));var e={type:"LeadingComment",value:t};return e}function _i(t){if(typeof t!="string")throw new Error('typeof value === "string" error: '+("Argument value must be of type string, given: "+k(t)||"unknown"));var e={type:"BlockComment",value:t};return e}function Ii(t,e,r){var n={type:"Data",memoryIndex:t,offset:e,init:r};return n}function Ei(t,e,r){if(!(k(e)==="object"&&typeof e.length<"u"))throw new Error('typeof init === "object" && typeof init.length !== "undefined" error: unknown');var n={type:"Global",globalType:t,init:e,name:r};return n}function Mi(t,e,r,n){if(e.type!=="Limit")throw new Error('limits.type === "Limit" error: '+("Argument limits must be of type Limit, given: "+e.type||"unknown"));if(n!=null&&!(k(n)==="object"&&typeof n.length<"u"))throw new Error('typeof elements === "object" && typeof elements.length !== "undefined" error: unknown');var s={type:"Table",elementType:t,limits:e,name:r};return typeof n<"u"&&n.length>0&&(s.elements=n),s}function Fi(t,e){var r={type:"Memory",limits:t,id:e};return r}function Si(t,e){var r={type:"FuncImportDescr",id:t,signature:e};return r}function Pi(t,e,r){if(typeof t!="string")throw new Error('typeof module === "string" error: '+("Argument module must be of type string, given: "+k(t)||"unknown"));if(typeof e!="string")throw new Error('typeof name === "string" error: '+("Argument name must be of type string, given: "+k(e)||"unknown"));var n={type:"ModuleImport",module:t,name:e,descr:r};return n}function Li(t,e){var r={type:"ModuleExportDescr",exportType:t,id:e};return r}function Ni(t,e){if(typeof t!="string")throw new Error('typeof name === "string" error: '+("Argument name must be of type string, given: "+k(t)||"unknown"));var r={type:"ModuleExport",name:t,descr:e};return r}function Oi(t,e,r){if(typeof t!="number")throw new Error('typeof min === "number" error: '+("Argument min must be of type number, given: "+k(t)||"unknown"));if(e!=null&&typeof e!="number")throw new Error('typeof max === "number" error: '+("Argument max must be of type number, given: "+k(e)||"unknown"));if(r!=null&&typeof r!="boolean")throw new Error('typeof shared === "boolean" error: '+("Argument shared must be of type boolean, given: "+k(r)||"unknown"));var n={type:"Limit",min:t};return typeof e<"u"&&(n.max=e),r===!0&&(n.shared=!0),n}function Ti(t,e){if(!(k(t)==="object"&&typeof t.length<"u"))throw new Error('typeof params === "object" && typeof params.length !== "undefined" error: unknown');if(!(k(e)==="object"&&typeof e.length<"u"))throw new Error('typeof results === "object" && typeof results.length !== "undefined" error: unknown');var r={type:"Signature",params:t,results:e};return r}function Ai(t){if(!(k(t)==="object"&&typeof t.length<"u"))throw new Error('typeof body === "object" && typeof body.length !== "undefined" error: unknown');var e={type:"Program",body:t};return e}function Ci(t,e){if(typeof t!="string")throw new Error('typeof value === "string" error: '+("Argument value must be of type string, given: "+k(t)||"unknown"));if(e!=null&&typeof e!="string")throw new Error('typeof raw === "string" error: '+("Argument raw must be of type string, given: "+k(e)||"unknown"));var r={type:"Identifier",value:t};return typeof e<"u"&&(r.raw=e),r}function qi(t,e,r){if(!(k(e)==="object"&&typeof e.length<"u"))throw new Error('typeof instr === "object" && typeof instr.length !== "undefined" error: unknown');var n={type:"BlockInstruction",id:"block",label:t,instr:e,result:r};return n}function Bi(t,e,r){if(e!=null&&!(k(e)==="object"&&typeof e.length<"u"))throw new Error('typeof instrArgs === "object" && typeof instrArgs.length !== "undefined" error: unknown');var n={type:"CallInstruction",id:"call",index:t};return typeof e<"u"&&e.length>0&&(n.instrArgs=e),typeof r<"u"&&(n.numeric=r),n}function ji(t,e){if(e!=null&&!(k(e)==="object"&&typeof e.length<"u"))throw new Error('typeof intrs === "object" && typeof intrs.length !== "undefined" error: unknown');var r={type:"CallIndirectInstruction",id:"call_indirect",signature:t};return typeof e<"u"&&e.length>0&&(r.intrs=e),r}function Di(t){if(!(k(t)==="object"&&typeof t.length<"u"))throw new Error('typeof values === "object" && typeof values.length !== "undefined" error: unknown');var e={type:"ByteArray",values:t};return e}function Ri(t,e,r,n,s){if(!(k(r)==="object"&&typeof r.length<"u"))throw new Error('typeof body === "object" && typeof body.length !== "undefined" error: unknown');if(n!=null&&typeof n!="boolean")throw new Error('typeof isExternal === "boolean" error: '+("Argument isExternal must be of type boolean, given: "+k(n)||"unknown"));var c={type:"Func",name:t,signature:e,body:r};return n===!0&&(c.isExternal=!0),typeof s<"u"&&(c.metadata=s),c}function Ui(t){if(typeof t!="number")throw new Error('typeof target === "number" error: '+("Argument target must be of type number, given: "+k(t)||"unknown"));var e={type:"InternalBrUnless",target:t};return e}function Gi(t){if(typeof t!="number")throw new Error('typeof target === "number" error: '+("Argument target must be of type number, given: "+k(t)||"unknown"));var e={type:"InternalGoto",target:t};return e}function Wi(t){if(typeof t!="number")throw new Error('typeof target === "number" error: '+("Argument target must be of type number, given: "+k(t)||"unknown"));var e={type:"InternalCallExtern",target:t};return e}function Hi(){var t={type:"InternalEndAndReturn"};return t}var Br=S("Module");i.isModule=Br;var jr=S("ModuleMetadata");i.isModuleMetadata=jr;var Dr=S("ModuleNameMetadata");i.isModuleNameMetadata=Dr;var Rr=S("FunctionNameMetadata");i.isFunctionNameMetadata=Rr;var Ur=S("LocalNameMetadata");i.isLocalNameMetadata=Ur;var Gr=S("BinaryModule");i.isBinaryModule=Gr;var Wr=S("QuoteModule");i.isQuoteModule=Wr;var Hr=S("SectionMetadata");i.isSectionMetadata=Hr;var Xr=S("ProducersSectionMetadata");i.isProducersSectionMetadata=Xr;var zr=S("ProducerMetadata");i.isProducerMetadata=zr;var Vr=S("ProducerMetadataVersionedName");i.isProducerMetadataVersionedName=Vr;var tt=S("LoopInstruction");i.isLoopInstruction=tt;var rt=S("Instr");i.isInstr=rt;var Tt=S("IfInstruction");i.isIfInstruction=Tt;var At=S("StringLiteral");i.isStringLiteral=At;var nt=S("NumberLiteral");i.isNumberLiteral=nt;var ot=S("LongNumberLiteral");i.isLongNumberLiteral=ot;var it=S("FloatLiteral");i.isFloatLiteral=it;var Zr=S("Elem");i.isElem=Zr;var $r=S("IndexInFuncSection");i.isIndexInFuncSection=$r;var Ct=S("ValtypeLiteral");i.isValtypeLiteral=Ct;var qt=S("TypeInstruction");i.isTypeInstruction=qt;var Qr=S("Start");i.isStart=Qr;var Bt=S("GlobalType");i.isGlobalType=Bt;var Kr=S("LeadingComment");i.isLeadingComment=Kr;var Jr=S("BlockComment");i.isBlockComment=Jr;var Yr=S("Data");i.isData=Yr;var en=S("Global");i.isGlobal=en;var jt=S("Table");i.isTable=jt;var Dt=S("Memory");i.isMemory=Dt;var Rt=S("FuncImportDescr");i.isFuncImportDescr=Rt;var tn=S("ModuleImport");i.isModuleImport=tn;var rn=S("ModuleExportDescr");i.isModuleExportDescr=rn;var nn=S("ModuleExport");i.isModuleExport=nn;var on=S("Limit");i.isLimit=on;var an=S("Signature");i.isSignature=an;var un=S("Program");i.isProgram=un;var Ut=S("Identifier");i.isIdentifier=Ut;var at=S("BlockInstruction");i.isBlockInstruction=at;var Gt=S("CallInstruction");i.isCallInstruction=Gt;var Wt=S("CallIndirectInstruction");i.isCallIndirectInstruction=Wt;var sn=S("ByteArray");i.isByteArray=sn;var Ht=S("Func");i.isFunc=Ht;var Xt=S("InternalBrUnless");i.isInternalBrUnless=Xt;var zt=S("InternalGoto");i.isInternalGoto=zt;var Vt=S("InternalCallExtern");i.isInternalCallExtern=Vt;var Zt=S("InternalEndAndReturn");i.isInternalEndAndReturn=Zt;var Xi=function(e){return Br(e)||jr(e)||Dr(e)||Rr(e)||Ur(e)||Gr(e)||Wr(e)||Hr(e)||Xr(e)||zr(e)||Vr(e)||tt(e)||rt(e)||Tt(e)||At(e)||nt(e)||ot(e)||it(e)||Zr(e)||$r(e)||Ct(e)||qt(e)||Qr(e)||Bt(e)||Kr(e)||Jr(e)||Yr(e)||en(e)||jt(e)||Dt(e)||Rt(e)||tn(e)||rn(e)||nn(e)||on(e)||an(e)||un(e)||Ut(e)||at(e)||Gt(e)||Wt(e)||sn(e)||Ht(e)||Xt(e)||zt(e)||Vt(e)||Zt(e)};i.isNode=Xi;var zi=function(e){return tt(e)||at(e)||Ht(e)};i.isBlock=zi;var Vi=function(e){return tt(e)||rt(e)||Tt(e)||qt(e)||at(e)||Gt(e)||Wt(e)};i.isInstruction=Vi;var Zi=function(e){return rt(e)||At(e)||nt(e)||ot(e)||it(e)||Ct(e)||Ut(e)};i.isExpression=Zi;var $i=function(e){return nt(e)||ot(e)||it(e)};i.isNumericLiteral=$i;var Qi=function(e){return Bt(e)||jt(e)||Dt(e)||Rt(e)};i.isImportDescr=Qi;var Ki=function(e){return Xt(e)||zt(e)||Vt(e)||Zt(e)};i.isIntrinsic=Ki;var Ji=P("Module");i.assertModule=Ji;var Yi=P("ModuleMetadata");i.assertModuleMetadata=Yi;var ea=P("ModuleNameMetadata");i.assertModuleNameMetadata=ea;var ta=P("FunctionNameMetadata");i.assertFunctionNameMetadata=ta;var ra=P("LocalNameMetadata");i.assertLocalNameMetadata=ra;var na=P("BinaryModule");i.assertBinaryModule=na;var oa=P("QuoteModule");i.assertQuoteModule=oa;var ia=P("SectionMetadata");i.assertSectionMetadata=ia;var aa=P("ProducersSectionMetadata");i.assertProducersSectionMetadata=aa;var ua=P("ProducerMetadata");i.assertProducerMetadata=ua;var sa=P("ProducerMetadataVersionedName");i.assertProducerMetadataVersionedName=sa;var fa=P("LoopInstruction");i.assertLoopInstruction=fa;var la=P("Instr");i.assertInstr=la;var ca=P("IfInstruction");i.assertIfInstruction=ca;var da=P("StringLiteral");i.assertStringLiteral=da;var pa=P("NumberLiteral");i.assertNumberLiteral=pa;var ya=P("LongNumberLiteral");i.assertLongNumberLiteral=ya;var ma=P("FloatLiteral");i.assertFloatLiteral=ma;var ha=P("Elem");i.assertElem=ha;var ga=P("IndexInFuncSection");i.assertIndexInFuncSection=ga;var va=P("ValtypeLiteral");i.assertValtypeLiteral=va;var ba=P("TypeInstruction");i.assertTypeInstruction=ba;var wa=P("Start");i.assertStart=wa;var xa=P("GlobalType");i.assertGlobalType=xa;var ka=P("LeadingComment");i.assertLeadingComment=ka;var _a=P("BlockComment");i.assertBlockComment=_a;var Ia=P("Data");i.assertData=Ia;var Ea=P("Global");i.assertGlobal=Ea;var Ma=P("Table");i.assertTable=Ma;var Fa=P("Memory");i.assertMemory=Fa;var Sa=P("FuncImportDescr");i.assertFuncImportDescr=Sa;var Pa=P("ModuleImport");i.assertModuleImport=Pa;var La=P("ModuleExportDescr");i.assertModuleExportDescr=La;var Na=P("ModuleExport");i.assertModuleExport=Na;var Oa=P("Limit");i.assertLimit=Oa;var Ta=P("Signature");i.assertSignature=Ta;var Aa=P("Program");i.assertProgram=Aa;var Ca=P("Identifier");i.assertIdentifier=Ca;var qa=P("BlockInstruction");i.assertBlockInstruction=qa;var Ba=P("CallInstruction");i.assertCallInstruction=Ba;var ja=P("CallIndirectInstruction");i.assertCallIndirectInstruction=ja;var Da=P("ByteArray");i.assertByteArray=Da;var Ra=P("Func");i.assertFunc=Ra;var Ua=P("InternalBrUnless");i.assertInternalBrUnless=Ua;var Ga=P("InternalGoto");i.assertInternalGoto=Ga;var Wa=P("InternalCallExtern");i.assertInternalCallExtern=Wa;var Ha=P("InternalEndAndReturn");i.assertInternalEndAndReturn=Ha;var Xa={Module:["Node"],ModuleMetadata:["Node"],ModuleNameMetadata:["Node"],FunctionNameMetadata:["Node"],LocalNameMetadata:["Node"],BinaryModule:["Node"],QuoteModule:["Node"],SectionMetadata:["Node"],ProducersSectionMetadata:["Node"],ProducerMetadata:["Node"],ProducerMetadataVersionedName:["Node"],LoopInstruction:["Node","Block","Instruction"],Instr:["Node","Expression","Instruction"],IfInstruction:["Node","Instruction"],StringLiteral:["Node","Expression"],NumberLiteral:["Node","NumericLiteral","Expression"],LongNumberLiteral:["Node","NumericLiteral","Expression"],FloatLiteral:["Node","NumericLiteral","Expression"],Elem:["Node"],IndexInFuncSection:["Node"],ValtypeLiteral:["Node","Expression"],TypeInstruction:["Node","Instruction"],Start:["Node"],GlobalType:["Node","ImportDescr"],LeadingComment:["Node"],BlockComment:["Node"],Data:["Node"],Global:["Node"],Table:["Node","ImportDescr"],Memory:["Node","ImportDescr"],FuncImportDescr:["Node","ImportDescr"],ModuleImport:["Node"],ModuleExportDescr:["Node"],ModuleExport:["Node"],Limit:["Node"],Signature:["Node"],Program:["Node"],Identifier:["Node","Expression"],BlockInstruction:["Node","Block","Instruction"],CallInstruction:["Node","Instruction"],CallIndirectInstruction:["Node","Instruction"],ByteArray:["Node"],Func:["Node","Block"],InternalBrUnless:["Node","Intrinsic"],InternalGoto:["Node","Intrinsic"],InternalCallExtern:["Node","Intrinsic"],InternalEndAndReturn:["Node","Intrinsic"]};i.unionTypesMap=Xa;var za=["Module","ModuleMetadata","ModuleNameMetadata","FunctionNameMetadata","LocalNameMetadata","BinaryModule","QuoteModule","SectionMetadata","ProducersSectionMetadata","ProducerMetadata","ProducerMetadataVersionedName","LoopInstruction","Instr","IfInstruction","StringLiteral","NumberLiteral","LongNumberLiteral","FloatLiteral","Elem","IndexInFuncSection","ValtypeLiteral","TypeInstruction","Start","GlobalType","LeadingComment","BlockComment","Data","Global","Table","Memory","FuncImportDescr","ModuleImport","ModuleExportDescr","ModuleExport","Limit","Signature","Program","Identifier","BlockInstruction","CallInstruction","CallIndirectInstruction","ByteArray","Func","InternalBrUnless","InternalGoto","InternalCallExtern","InternalEndAndReturn","Node","Block","Instruction","Expression","NumericLiteral","ImportDescr","Intrinsic"];i.nodeAndUnionTypes=za});var Kt=j((Gf,vn)=>{vn.exports=B;var ne=null;try{ne=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function B(t,e,r){this.low=t|0,this.high=e|0,this.unsigned=!!r}B.prototype.__isLong__;Object.defineProperty(B.prototype,"__isLong__",{value:!0});function J(t){return(t&&t.__isLong__)===!0}B.isLong=J;var fn={},ln={};function _e(t,e){var r,n,s;return e?(t>>>=0,(s=0<=t&&t<256)&&(n=ln[t],n)?n:(r=O(t,(t|0)<0?-1:0,!0),s&&(ln[t]=r),r)):(t|=0,(s=-128<=t&&t<128)&&(n=fn[t],n)?n:(r=O(t,t<0?-1:0,!1),s&&(fn[t]=r),r))}B.fromInt=_e;function oe(t,e){if(isNaN(t))return e?ke:ie;if(e){if(t<0)return ke;if(t>=yn)return gn}else{if(t<=-dn)return te;if(t+1>=dn)return hn}return t<0?oe(-t,e).neg():O(t%Ne|0,t/Ne|0,e)}B.fromNumber=oe;function O(t,e,r){return new B(t,e,r)}B.fromBits=O;var ut=Math.pow;function Qt(t,e,r){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return ie;if(typeof e=="number"?(r=e,e=!1):e=!!e,r=r||10,r<2||36<r)throw RangeError("radix");var n;if((n=t.indexOf("-"))>0)throw Error("interior hyphen");if(n===0)return Qt(t.substring(1),e,r).neg();for(var s=oe(ut(r,8)),c=ie,p=0;p<t.length;p+=8){var o=Math.min(8,t.length-p),f=parseInt(t.substring(p,p+o),r);if(o<8){var M=oe(ut(r,o));c=c.mul(M).add(oe(f))}else c=c.mul(s),c=c.add(oe(f))}return c.unsigned=e,c}B.fromString=Qt;function se(t,e){return typeof t=="number"?oe(t,e):typeof t=="string"?Qt(t,e):O(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}B.fromValue=se;var cn=1<<16,Va=1<<24,Ne=cn*cn,yn=Ne*Ne,dn=yn/2,pn=_e(Va),ie=_e(0);B.ZERO=ie;var ke=_e(0,!0);B.UZERO=ke;var Le=_e(1);B.ONE=Le;var mn=_e(1,!0);B.UONE=mn;var $t=_e(-1);B.NEG_ONE=$t;var hn=O(-1,2147483647,!1);B.MAX_VALUE=hn;var gn=O(-1,-1,!0);B.MAX_UNSIGNED_VALUE=gn;var te=O(0,-2147483648,!1);B.MIN_VALUE=te;var v=B.prototype;v.toInt=function(){return this.unsigned?this.low>>>0:this.low};v.toNumber=function(){return this.unsigned?(this.high>>>0)*Ne+(this.low>>>0):this.high*Ne+(this.low>>>0)};v.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(te)){var r=oe(e),n=this.div(r),s=n.mul(r).sub(this);return n.toString(e)+s.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var c=oe(ut(e,6),this.unsigned),p=this,o="";;){var f=p.div(c),M=p.sub(f.mul(c)).toInt()>>>0,T=M.toString(e);if(p=f,p.isZero())return T+o;for(;T.length<6;)T="0"+T;o=""+T+o}};v.getHighBits=function(){return this.high};v.getHighBitsUnsigned=function(){return this.high>>>0};v.getLowBits=function(){return this.low};v.getLowBitsUnsigned=function(){return this.low>>>0};v.getNumBitsAbs=function(){if(this.isNegative())return this.eq(te)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,r=31;r>0&&(e&1<<r)==0;r--);return this.high!=0?r+33:r+1};v.isZero=function(){return this.high===0&&this.low===0};v.eqz=v.isZero;v.isNegative=function(){return!this.unsigned&&this.high<0};v.isPositive=function(){return this.unsigned||this.high>=0};v.isOdd=function(){return(this.low&1)===1};v.isEven=function(){return(this.low&1)===0};v.equals=function(e){return J(e)||(e=se(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};v.eq=v.equals;v.notEquals=function(e){return!this.eq(e)};v.neq=v.notEquals;v.ne=v.notEquals;v.lessThan=function(e){return this.comp(e)<0};v.lt=v.lessThan;v.lessThanOrEqual=function(e){return this.comp(e)<=0};v.lte=v.lessThanOrEqual;v.le=v.lessThanOrEqual;v.greaterThan=function(e){return this.comp(e)>0};v.gt=v.greaterThan;v.greaterThanOrEqual=function(e){return this.comp(e)>=0};v.gte=v.greaterThanOrEqual;v.ge=v.greaterThanOrEqual;v.compare=function(e){if(J(e)||(e=se(e)),this.eq(e))return 0;var r=this.isNegative(),n=e.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};v.comp=v.compare;v.negate=function(){return!this.unsigned&&this.eq(te)?te:this.not().add(Le)};v.neg=v.negate;v.add=function(e){J(e)||(e=se(e));var r=this.high>>>16,n=this.high&65535,s=this.low>>>16,c=this.low&65535,p=e.high>>>16,o=e.high&65535,f=e.low>>>16,M=e.low&65535,T=0,b=0,C=0,F=0;return F+=c+M,C+=F>>>16,F&=65535,C+=s+f,b+=C>>>16,C&=65535,b+=n+o,T+=b>>>16,b&=65535,T+=r+p,T&=65535,O(C<<16|F,T<<16|b,this.unsigned)};v.subtract=function(e){return J(e)||(e=se(e)),this.add(e.neg())};v.sub=v.subtract;v.multiply=function(e){if(this.isZero())return ie;if(J(e)||(e=se(e)),ne){var r=ne.mul(this.low,this.high,e.low,e.high);return O(r,ne.get_high(),this.unsigned)}if(e.isZero())return ie;if(this.eq(te))return e.isOdd()?te:ie;if(e.eq(te))return this.isOdd()?te:ie;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(pn)&&e.lt(pn))return oe(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,s=this.high&65535,c=this.low>>>16,p=this.low&65535,o=e.high>>>16,f=e.high&65535,M=e.low>>>16,T=e.low&65535,b=0,C=0,F=0,ee=0;return ee+=p*T,F+=ee>>>16,ee&=65535,F+=c*T,C+=F>>>16,F&=65535,F+=p*M,C+=F>>>16,F&=65535,C+=s*T,b+=C>>>16,C&=65535,C+=c*M,b+=C>>>16,C&=65535,C+=p*f,b+=C>>>16,C&=65535,b+=n*T+s*M+c*f+p*o,b&=65535,O(F<<16|ee,b<<16|C,this.unsigned)};v.mul=v.multiply;v.divide=function(e){if(J(e)||(e=se(e)),e.isZero())throw Error("division by zero");if(ne){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var r=(this.unsigned?ne.div_u:ne.div_s)(this.low,this.high,e.low,e.high);return O(r,ne.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?ke:ie;var n,s,c;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return ke;if(e.gt(this.shru(1)))return mn;c=ke}else{if(this.eq(te)){if(e.eq(Le)||e.eq($t))return te;if(e.eq(te))return Le;var p=this.shr(1);return n=p.div(e).shl(1),n.eq(ie)?e.isNegative()?Le:$t:(s=this.sub(e.mul(n)),c=n.add(s.div(e)),c)}else if(e.eq(te))return this.unsigned?ke:ie;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();c=ie}for(s=this;s.gte(e);){n=Math.max(1,Math.floor(s.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(n)/Math.LN2),f=o<=48?1:ut(2,o-48),M=oe(n),T=M.mul(e);T.isNegative()||T.gt(s);)n-=f,M=oe(n,this.unsigned),T=M.mul(e);M.isZero()&&(M=Le),c=c.add(M),s=s.sub(T)}return c};v.div=v.divide;v.modulo=function(e){if(J(e)||(e=se(e)),ne){var r=(this.unsigned?ne.rem_u:ne.rem_s)(this.low,this.high,e.low,e.high);return O(r,ne.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};v.mod=v.modulo;v.rem=v.modulo;v.not=function(){return O(~this.low,~this.high,this.unsigned)};v.and=function(e){return J(e)||(e=se(e)),O(this.low&e.low,this.high&e.high,this.unsigned)};v.or=function(e){return J(e)||(e=se(e)),O(this.low|e.low,this.high|e.high,this.unsigned)};v.xor=function(e){return J(e)||(e=se(e)),O(this.low^e.low,this.high^e.high,this.unsigned)};v.shiftLeft=function(e){return J(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?O(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):O(0,this.low<<e-32,this.unsigned)};v.shl=v.shiftLeft;v.shiftRight=function(e){return J(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?O(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):O(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};v.shr=v.shiftRight;v.shiftRightUnsigned=function(e){return J(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?O(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):e===32?O(this.high,0,this.unsigned):O(this.high>>>e-32,0,this.unsigned)};v.shru=v.shiftRightUnsigned;v.shr_u=v.shiftRightUnsigned;v.rotateLeft=function(e){var r;return J(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?O(this.high,this.low,this.unsigned):e<32?(r=32-e,O(this.low<<e|this.high>>>r,this.high<<e|this.low>>>r,this.unsigned)):(e-=32,r=32-e,O(this.high<<e|this.low>>>r,this.low<<e|this.high>>>r,this.unsigned))};v.rotl=v.rotateLeft;v.rotateRight=function(e){var r;return J(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?O(this.high,this.low,this.unsigned):e<32?(r=32-e,O(this.high<<r|this.low>>>e,this.low<<r|this.high>>>e,this.unsigned)):(e-=32,r=32-e,O(this.low<<r|this.high>>>e,this.high<<r|this.low>>>e,this.unsigned))};v.rotr=v.rotateRight;v.toSigned=function(){return this.unsigned?O(this.low,this.high,!1):this};v.toUnsigned=function(){return this.unsigned?this:O(this.low,this.high,!0)};v.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};v.toBytesLE=function(){var e=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};v.toBytesBE=function(){var e=this.high,r=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,r>>>24,r>>>16&255,r>>>8&255,r&255]};B.fromBytes=function(e,r,n){return n?B.fromBytesLE(e,r):B.fromBytesBE(e,r)};B.fromBytesLE=function(e,r){return new B(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,r)};B.fromBytesBE=function(e,r){return new B(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],r)}});var bn=j(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});Jt.default=Za;function Za(t){t=t.toUpperCase();var e=t.indexOf("P"),r,n;e!==-1?(r=t.substring(0,e),n=parseInt(t.substring(e+1))):(r=t,n=0);var s=r.indexOf(".");if(s!==-1){var c=parseInt(r.substring(0,s),16),p=Math.sign(c);c=p*c;var o=r.length-s-1,f=parseInt(r.substring(s+1),16),M=o>0?f/Math.pow(16,o):0;p===0?M===0?r=p:Object.is(p,-0)?r=-M:r=M:r=p*(c+M)}else r=parseInt(r,16);return r*(e!==-1?Math.pow(2,n):1)}});var xn=j(ve=>{"use strict";function st(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?st=function(r){return typeof r}:st=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},st(t)}Object.defineProperty(ve,"__esModule",{value:!0});ve.LinkError=ve.CompileError=ve.RuntimeError=void 0;function Yt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function er(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Re(t,e)}function tr(t){var e=wn();return function(){var n=Ue(t),s;if(e){var c=Ue(this).constructor;s=Reflect.construct(n,arguments,c)}else s=n.apply(this,arguments);return $a(this,s)}}function $a(t,e){if(e&&(st(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qa(t)}function Qa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function De(t){var e=typeof Map=="function"?new Map:void 0;return De=function(n){if(n===null||!Ka(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,s)}function s(){return ft(n,arguments,Ue(this).constructor)}return s.prototype=Object.create(n.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),Re(s,n)},De(t)}function ft(t,e,r){return wn()?ft=Reflect.construct:ft=function(s,c,p){var o=[null];o.push.apply(o,c);var f=Function.bind.apply(s,o),M=new f;return p&&Re(M,p.prototype),M},ft.apply(null,arguments)}function wn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ka(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function Re(t,e){return Re=Object.setPrototypeOf||function(n,s){return n.__proto__=s,n},Re(t,e)}function Ue(t){return Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ue(t)}var Ja=function(t){er(r,t);var e=tr(r);function r(){return Yt(this,r),e.apply(this,arguments)}return r}(De(Error));ve.RuntimeError=Ja;var Ya=function(t){er(r,t);var e=tr(r);function r(){return Yt(this,r),e.apply(this,arguments)}return r}(De(Error));ve.CompileError=Ya;var eu=function(t){er(r,t);var e=tr(r);function r(){return Yt(this,r),e.apply(this,arguments)}return r}(De(Error));ve.LinkError=eu});var lt=j(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.parse32F=ru;pe.parse64F=nu;pe.parse32I=In;pe.parseU32=ou;pe.parse64I=iu;pe.isInfLiteral=nr;pe.isNanLiteral=or;var kn=_n(Kt()),rr=_n(bn()),tu=xn();function _n(t){return t&&t.__esModule?t:{default:t}}function ru(t){return Oe(t)?(0,rr.default)(t):nr(t)?t[0]==="-"?-1:1:or(t)?(t[0]==="-"?-1:1)*(t.includes(":")?parseInt(t.substring(t.indexOf(":")+1),16):4194304):parseFloat(t)}function nu(t){return Oe(t)?(0,rr.default)(t):nr(t)?t[0]==="-"?-1:1:or(t)?(t[0]==="-"?-1:1)*(t.includes(":")?parseInt(t.substring(t.indexOf(":")+1),16):0x8000000000000):Oe(t)?(0,rr.default)(t):parseFloat(t)}function In(t){var e=0;if(Oe(t))e=~~parseInt(t,16);else{if(En(t))throw new Error("This number literal format is yet to be implemented.");e=parseInt(t,10)}return e}function ou(t){var e=In(t);if(e<0)throw new tu.CompileError("Illegal value for u32: "+t);return e}function iu(t){var e;if(Oe(t))e=kn.default.fromString(t,!1,16);else{if(En(t))throw new Error("This number literal format is yet to be implemented.");e=kn.default.fromString(t)}return{high:e.high,low:e.low}}var au=/^\+?-?nan/,uu=/^\+?-?inf/;function nr(t){return uu.test(t.toLowerCase())}function or(t){return au.test(t.toLowerCase())}function En(t){return!Oe(t)&&t.toUpperCase().includes("E")}function Oe(t){return t.substring(0,2).toUpperCase()==="0X"||t.substring(0,3).toUpperCase()==="-0X"}});var Mn=j(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});le.numberLiteralFromRaw=ir;le.instruction=su;le.objectInstruction=fu;le.withLoc=lu;le.withRaw=cu;le.funcParam=du;le.indexLiteral=pu;le.memIndexLiteral=yu;var ye=lt(),be=je();function ir(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"i32",r=t;if(typeof t=="string"&&(t=t.replace(/_/g,"")),typeof t=="number")return(0,be.numberLiteral)(t,String(r));switch(e){case"i32":return(0,be.numberLiteral)((0,ye.parse32I)(t),String(r));case"u32":return(0,be.numberLiteral)((0,ye.parseU32)(t),String(r));case"i64":return(0,be.longNumberLiteral)((0,ye.parse64I)(t),String(r));case"f32":return(0,be.floatLiteral)((0,ye.parse32F)(t),(0,ye.isNanLiteral)(t),(0,ye.isInfLiteral)(t),String(r));default:return(0,be.floatLiteral)((0,ye.parse64F)(t),(0,ye.isNanLiteral)(t),(0,ye.isInfLiteral)(t),String(r))}}function su(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(0,be.instr)(t,void 0,e,r)}function fu(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(0,be.instr)(t,e,r,n)}function lu(t,e,r){var n={start:r,end:e};return t.loc=n,t}function cu(t,e){return t.raw=e,t}function du(t,e){return{id:e,valtype:t}}function pu(t){var e=ir(t,"u32");return e}function yu(t){var e=ir(t,"u32");return e}});var Pn=j(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.createPath=Eu;function Fn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function mu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Fn(Object(r),!0).forEach(function(n){hu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fn(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hu(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gu(t,e){var r=t.parentPath;if(r==null)throw new Error("node is root");for(var n=r;e(n)!==!1;){if(n.parentPath==null)return null;n=n.parentPath}return n.node}function vu(t,e){return Sn(t,e)}function bu(t,e){return Sn(t,e,1)}function Sn(t,e){var r=t.node,n=t.inList,s=t.parentPath,c=t.parentKey,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(!n)throw new Error("inList error: insert can only be used for nodes that are within lists");if(s==null)throw new Error("parentPath != null error: Can not remove root node");var o=s.node[c],f=o.findIndex(function(M){return M===r});o.splice(f+p,0,e)}function wu(t){var e=t.node,r=t.parentKey,n=t.parentPath;if(n==null)throw new Error("parentPath != null error: Can not remove root node");var s=n.node,c=s[r];Array.isArray(c)?s[r]=c.filter(function(p){return p!==e}):delete s[r],e._deleted=!0}function xu(t){t.shouldStop=!0}function ku(t,e){var r=t.parentPath.node,n=r[t.parentKey];if(Array.isArray(n)){var s=n.findIndex(function(c){return c===t.node});n.splice(s,1,e)}else r[t.parentKey]=e;t.node._deleted=!0,t.node=e}function _u(t,e){var r=Object.keys(t),n={};return r.forEach(function(s){n[s]=t[s].bind(null,e)}),n}function Iu(t){return _u({findParent:gu,replaceWith:ku,remove:wu,insertBefore:vu,insertAfter:bu,stop:xu},t)}function Eu(t){var e=mu({},t);return Object.assign(e,Iu(e)),e}});var sr=j(ur=>{"use strict";Object.defineProperty(ur,"__esModule",{value:!0});ur.traverse=Su;var Mu=Pn(),Ln=je();function Fu(t,e){var r=!1;function n(s,c){if(!r){var p=s.node;if(p===void 0){console.warn("traversing with an empty context");return}if(p._deleted!==!0){var o=(0,Mu.createPath)(s);if(c(p.type,o),o.shouldStop){r=!0;return}Object.keys(p).forEach(function(f){var M=p[f];if(M!=null){var T=Array.isArray(M)?M:[M];T.forEach(function(b){if(typeof b.type=="string"){var C={node:b,parentKey:f,parentPath:o,shouldStop:!1,inList:Array.isArray(M)};n(C,c)}})}})}}}n(t,e)}var Nn=function(){};function Su(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Nn,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Nn;Object.keys(e).forEach(function(c){if(!Ln.nodeAndUnionTypes.includes(c))throw new Error("Unexpected visitor ".concat(c))});var s={node:t,inList:!1,shouldStop:!1,parentPath:null,parentKey:null};Fu(s,function(c,p){typeof e[c]=="function"&&(r(c,p),e[c](p),n(c,p));var o=Ln.unionTypesMap[c];if(!o)throw new Error("Unexpected node type ".concat(c));o.forEach(function(f){typeof e[f]=="function"&&(r(f,p),e[f](p),n(f,p))})})}});var fr=j(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.signatures=void 0;function l(t,e){return[t,e]}var E="u32",d="i32",g="i64",_="f32",I="f64",Pu=function(e){var r=[e];return r.vector=!0,r},Lu={unreachable:l([],[]),nop:l([],[]),br:l([E],[]),br_if:l([E],[]),br_table:l(Pu(E),[]),return:l([],[]),call:l([E],[]),call_indirect:l([E],[])},Nu={drop:l([],[]),select:l([],[])},Ou={get_local:l([E],[]),set_local:l([E],[]),tee_local:l([E],[]),get_global:l([E],[]),set_global:l([E],[])},Tu={"i32.load":l([E,E],[d]),"i64.load":l([E,E],[]),"f32.load":l([E,E],[]),"f64.load":l([E,E],[]),"i32.load8_s":l([E,E],[d]),"i32.load8_u":l([E,E],[d]),"i32.load16_s":l([E,E],[d]),"i32.load16_u":l([E,E],[d]),"i64.load8_s":l([E,E],[g]),"i64.load8_u":l([E,E],[g]),"i64.load16_s":l([E,E],[g]),"i64.load16_u":l([E,E],[g]),"i64.load32_s":l([E,E],[g]),"i64.load32_u":l([E,E],[g]),"i32.store":l([E,E],[]),"i64.store":l([E,E],[]),"f32.store":l([E,E],[]),"f64.store":l([E,E],[]),"i32.store8":l([E,E],[]),"i32.store16":l([E,E],[]),"i64.store8":l([E,E],[]),"i64.store16":l([E,E],[]),"i64.store32":l([E,E],[]),current_memory:l([],[]),grow_memory:l([],[])},Au={"i32.const":l([d],[d]),"i64.const":l([g],[g]),"f32.const":l([_],[_]),"f64.const":l([I],[I]),"i32.eqz":l([d],[d]),"i32.eq":l([d,d],[d]),"i32.ne":l([d,d],[d]),"i32.lt_s":l([d,d],[d]),"i32.lt_u":l([d,d],[d]),"i32.gt_s":l([d,d],[d]),"i32.gt_u":l([d,d],[d]),"i32.le_s":l([d,d],[d]),"i32.le_u":l([d,d],[d]),"i32.ge_s":l([d,d],[d]),"i32.ge_u":l([d,d],[d]),"i64.eqz":l([g],[g]),"i64.eq":l([g,g],[d]),"i64.ne":l([g,g],[d]),"i64.lt_s":l([g,g],[d]),"i64.lt_u":l([g,g],[d]),"i64.gt_s":l([g,g],[d]),"i64.gt_u":l([g,g],[d]),"i64.le_s":l([g,g],[d]),"i64.le_u":l([g,g],[d]),"i64.ge_s":l([g,g],[d]),"i64.ge_u":l([g,g],[d]),"f32.eq":l([_,_],[d]),"f32.ne":l([_,_],[d]),"f32.lt":l([_,_],[d]),"f32.gt":l([_,_],[d]),"f32.le":l([_,_],[d]),"f32.ge":l([_,_],[d]),"f64.eq":l([I,I],[d]),"f64.ne":l([I,I],[d]),"f64.lt":l([I,I],[d]),"f64.gt":l([I,I],[d]),"f64.le":l([I,I],[d]),"f64.ge":l([I,I],[d]),"i32.clz":l([d],[d]),"i32.ctz":l([d],[d]),"i32.popcnt":l([d],[d]),"i32.add":l([d,d],[d]),"i32.sub":l([d,d],[d]),"i32.mul":l([d,d],[d]),"i32.div_s":l([d,d],[d]),"i32.div_u":l([d,d],[d]),"i32.rem_s":l([d,d],[d]),"i32.rem_u":l([d,d],[d]),"i32.and":l([d,d],[d]),"i32.or":l([d,d],[d]),"i32.xor":l([d,d],[d]),"i32.shl":l([d,d],[d]),"i32.shr_s":l([d,d],[d]),"i32.shr_u":l([d,d],[d]),"i32.rotl":l([d,d],[d]),"i32.rotr":l([d,d],[d]),"i64.clz":l([g],[g]),"i64.ctz":l([g],[g]),"i64.popcnt":l([g],[g]),"i64.add":l([g,g],[g]),"i64.sub":l([g,g],[g]),"i64.mul":l([g,g],[g]),"i64.div_s":l([g,g],[g]),"i64.div_u":l([g,g],[g]),"i64.rem_s":l([g,g],[g]),"i64.rem_u":l([g,g],[g]),"i64.and":l([g,g],[g]),"i64.or":l([g,g],[g]),"i64.xor":l([g,g],[g]),"i64.shl":l([g,g],[g]),"i64.shr_s":l([g,g],[g]),"i64.shr_u":l([g,g],[g]),"i64.rotl":l([g,g],[g]),"i64.rotr":l([g,g],[g]),"f32.abs":l([_],[_]),"f32.neg":l([_],[_]),"f32.ceil":l([_],[_]),"f32.floor":l([_],[_]),"f32.trunc":l([_],[_]),"f32.nearest":l([_],[_]),"f32.sqrt":l([_],[_]),"f32.add":l([_,_],[_]),"f32.sub":l([_,_],[_]),"f32.mul":l([_,_],[_]),"f32.div":l([_,_],[_]),"f32.min":l([_,_],[_]),"f32.max":l([_,_],[_]),"f32.copysign":l([_,_],[_]),"f64.abs":l([I],[I]),"f64.neg":l([I],[I]),"f64.ceil":l([I],[I]),"f64.floor":l([I],[I]),"f64.trunc":l([I],[I]),"f64.nearest":l([I],[I]),"f64.sqrt":l([I],[I]),"f64.add":l([I,I],[I]),"f64.sub":l([I,I],[I]),"f64.mul":l([I,I],[I]),"f64.div":l([I,I],[I]),"f64.min":l([I,I],[I]),"f64.max":l([I,I],[I]),"f64.copysign":l([I,I],[I]),"i32.wrap/i64":l([g],[d]),"i32.trunc_s/f32":l([_],[d]),"i32.trunc_u/f32":l([_],[d]),"i32.trunc_s/f64":l([_],[d]),"i32.trunc_u/f64":l([I],[d]),"i64.extend_s/i32":l([d],[g]),"i64.extend_u/i32":l([d],[g]),"i64.trunc_s/f32":l([_],[g]),"i64.trunc_u/f32":l([_],[g]),"i64.trunc_s/f64":l([I],[g]),"i64.trunc_u/f64":l([I],[g]),"f32.convert_s/i32":l([d],[_]),"f32.convert_u/i32":l([d],[_]),"f32.convert_s/i64":l([g],[_]),"f32.convert_u/i64":l([g],[_]),"f32.demote/f64":l([I],[_]),"f64.convert_s/i32":l([d],[I]),"f64.convert_u/i32":l([d],[I]),"f64.convert_s/i64":l([g],[I]),"f64.convert_u/i64":l([g],[I]),"f64.promote/f32":l([_],[I]),"i32.reinterpret/f32":l([_],[d]),"i64.reinterpret/f64":l([I],[g]),"f32.reinterpret/i32":l([d],[_]),"f64.reinterpret/i64":l([g],[I])},Cu=Object.assign({},Lu,Nu,Ou,Tu,Au);ct.signatures=Cu});var On=j(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});lr.getSectionForNode=qu;function qu(t){switch(t.type){case"ModuleImport":return"import";case"CallInstruction":case"CallIndirectInstruction":case"Func":case"Instr":return"code";case"ModuleExport":return"export";case"Start":return"start";case"TypeInstruction":return"type";case"IndexInFuncSection":return"func";case"Global":return"global";default:return}}});var qn=j(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Object.defineProperty(Ge,"getSectionForNode",{enumerable:!0,get:function(){return Bu.getSectionForNode}});Ge.default=void 0;var Bu=On(),H="illegal",ju=[0,97,115,109],Du=[1,0,0,0];function dt(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(p){return p},r={},n=Object.keys(t),s=0,c=n.length;s<c;s++)r[e(t[n[s]])]=n[s];return r}function u(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return{name:t,object:e,numberOfArgs:r}}function D(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return{name:t,numberOfArgs:e}}var Ru={func:96,result:64},Tn={0:"Func",1:"Table",2:"Memory",3:"Global"},Uu=dt(Tn),cr={127:"i32",126:"i64",125:"f32",124:"f64",123:"v128"},Gu=dt(cr),Wu={112:"anyfunc"},Hu=Object.assign({},cr,{64:null,127:"i32",126:"i64",125:"f32",124:"f64"}),An={0:"const",1:"var"},Xu=dt(An),zu={0:"func",1:"table",2:"memory",3:"global"},Vu={custom:0,type:1,import:2,func:3,table:4,memory:5,global:6,export:7,start:8,element:9,code:10,data:11},Cn={0:D("unreachable"),1:D("nop"),2:D("block"),3:D("loop"),4:D("if"),5:D("else"),6:H,7:H,8:H,9:H,10:H,11:D("end"),12:D("br",1),13:D("br_if",1),14:D("br_table"),15:D("return"),16:D("call",1),17:D("call_indirect",2),18:H,19:H,20:H,21:H,22:H,23:H,24:H,25:H,26:D("drop"),27:D("select"),28:H,29:H,30:H,31:H,32:D("get_local",1),33:D("set_local",1),34:D("tee_local",1),35:D("get_global",1),36:D("set_global",1),37:H,38:H,39:H,40:u("load","u32",1),41:u("load","u64",1),42:u("load","f32",1),43:u("load","f64",1),44:u("load8_s","u32",1),45:u("load8_u","u32",1),46:u("load16_s","u32",1),47:u("load16_u","u32",1),48:u("load8_s","u64",1),49:u("load8_u","u64",1),50:u("load16_s","u64",1),51:u("load16_u","u64",1),52:u("load32_s","u64",1),53:u("load32_u","u64",1),54:u("store","u32",1),55:u("store","u64",1),56:u("store","f32",1),57:u("store","f64",1),58:u("store8","u32",1),59:u("store16","u32",1),60:u("store8","u64",1),61:u("store16","u64",1),62:u("store32","u64",1),63:u("current_memory"),64:u("grow_memory"),65:u("const","i32",1),66:u("const","i64",1),67:u("const","f32",1),68:u("const","f64",1),69:u("eqz","i32"),70:u("eq","i32"),71:u("ne","i32"),72:u("lt_s","i32"),73:u("lt_u","i32"),74:u("gt_s","i32"),75:u("gt_u","i32"),76:u("le_s","i32"),77:u("le_u","i32"),78:u("ge_s","i32"),79:u("ge_u","i32"),80:u("eqz","i64"),81:u("eq","i64"),82:u("ne","i64"),83:u("lt_s","i64"),84:u("lt_u","i64"),85:u("gt_s","i64"),86:u("gt_u","i64"),87:u("le_s","i64"),88:u("le_u","i64"),89:u("ge_s","i64"),90:u("ge_u","i64"),91:u("eq","f32"),92:u("ne","f32"),93:u("lt","f32"),94:u("gt","f32"),95:u("le","f32"),96:u("ge","f32"),97:u("eq","f64"),98:u("ne","f64"),99:u("lt","f64"),100:u("gt","f64"),101:u("le","f64"),102:u("ge","f64"),103:u("clz","i32"),104:u("ctz","i32"),105:u("popcnt","i32"),106:u("add","i32"),107:u("sub","i32"),108:u("mul","i32"),109:u("div_s","i32"),110:u("div_u","i32"),111:u("rem_s","i32"),112:u("rem_u","i32"),113:u("and","i32"),114:u("or","i32"),115:u("xor","i32"),116:u("shl","i32"),117:u("shr_s","i32"),118:u("shr_u","i32"),119:u("rotl","i32"),120:u("rotr","i32"),121:u("clz","i64"),122:u("ctz","i64"),123:u("popcnt","i64"),124:u("add","i64"),125:u("sub","i64"),126:u("mul","i64"),127:u("div_s","i64"),128:u("div_u","i64"),129:u("rem_s","i64"),130:u("rem_u","i64"),131:u("and","i64"),132:u("or","i64"),133:u("xor","i64"),134:u("shl","i64"),135:u("shr_s","i64"),136:u("shr_u","i64"),137:u("rotl","i64"),138:u("rotr","i64"),139:u("abs","f32"),140:u("neg","f32"),141:u("ceil","f32"),142:u("floor","f32"),143:u("trunc","f32"),144:u("nearest","f32"),145:u("sqrt","f32"),146:u("add","f32"),147:u("sub","f32"),148:u("mul","f32"),149:u("div","f32"),150:u("min","f32"),151:u("max","f32"),152:u("copysign","f32"),153:u("abs","f64"),154:u("neg","f64"),155:u("ceil","f64"),156:u("floor","f64"),157:u("trunc","f64"),158:u("nearest","f64"),159:u("sqrt","f64"),160:u("add","f64"),161:u("sub","f64"),162:u("mul","f64"),163:u("div","f64"),164:u("min","f64"),165:u("max","f64"),166:u("copysign","f64"),167:u("wrap/i64","i32"),168:u("trunc_s/f32","i32"),169:u("trunc_u/f32","i32"),170:u("trunc_s/f64","i32"),171:u("trunc_u/f64","i32"),172:u("extend_s/i32","i64"),173:u("extend_u/i32","i64"),174:u("trunc_s/f32","i64"),175:u("trunc_u/f32","i64"),176:u("trunc_s/f64","i64"),177:u("trunc_u/f64","i64"),178:u("convert_s/i32","f32"),179:u("convert_u/i32","f32"),180:u("convert_s/i64","f32"),181:u("convert_u/i64","f32"),182:u("demote/f64","f32"),183:u("convert_s/i32","f64"),184:u("convert_u/i32","f64"),185:u("convert_s/i64","f64"),186:u("convert_u/i64","f64"),187:u("promote/f32","f64"),188:u("reinterpret/f32","i32"),189:u("reinterpret/f64","i64"),190:u("reinterpret/i32","f32"),191:u("reinterpret/i64","f64"),65024:D("memory.atomic.notify",1),65025:D("memory.atomic.wait32",1),65026:D("memory.atomic.wait64",1),65040:u("atomic.load","i32",1),65041:u("atomic.load","i64",1),65042:u("atomic.load8_u","i32",1),65043:u("atomic.load16_u","i32",1),65044:u("atomic.load8_u","i64",1),65045:u("atomic.load16_u","i64",1),65046:u("atomic.load32_u","i64",1),65047:u("atomic.store","i32",1),65048:u("atomic.store","i64",1),65049:u("atomic.store8_u","i32",1),65050:u("atomic.store16_u","i32",1),65051:u("atomic.store8_u","i64",1),65052:u("atomic.store16_u","i64",1),65053:u("atomic.store32_u","i64",1),65054:u("atomic.rmw.add","i32",1),65055:u("atomic.rmw.add","i64",1),65056:u("atomic.rmw8_u.add_u","i32",1),65057:u("atomic.rmw16_u.add_u","i32",1),65058:u("atomic.rmw8_u.add_u","i64",1),65059:u("atomic.rmw16_u.add_u","i64",1),65060:u("atomic.rmw32_u.add_u","i64",1),65061:u("atomic.rmw.sub","i32",1),65062:u("atomic.rmw.sub","i64",1),65063:u("atomic.rmw8_u.sub_u","i32",1),65064:u("atomic.rmw16_u.sub_u","i32",1),65065:u("atomic.rmw8_u.sub_u","i64",1),65066:u("atomic.rmw16_u.sub_u","i64",1),65067:u("atomic.rmw32_u.sub_u","i64",1),65068:u("atomic.rmw.and","i32",1),65069:u("atomic.rmw.and","i64",1),65070:u("atomic.rmw8_u.and_u","i32",1),65071:u("atomic.rmw16_u.and_u","i32",1),65072:u("atomic.rmw8_u.and_u","i64",1),65073:u("atomic.rmw16_u.and_u","i64",1),65074:u("atomic.rmw32_u.and_u","i64",1),65075:u("atomic.rmw.or","i32",1),65076:u("atomic.rmw.or","i64",1),65077:u("atomic.rmw8_u.or_u","i32",1),65078:u("atomic.rmw16_u.or_u","i32",1),65079:u("atomic.rmw8_u.or_u","i64",1),65080:u("atomic.rmw16_u.or_u","i64",1),65081:u("atomic.rmw32_u.or_u","i64",1),65082:u("atomic.rmw.xor","i32",1),65083:u("atomic.rmw.xor","i64",1),65084:u("atomic.rmw8_u.xor_u","i32",1),65085:u("atomic.rmw16_u.xor_u","i32",1),65086:u("atomic.rmw8_u.xor_u","i64",1),65087:u("atomic.rmw16_u.xor_u","i64",1),65088:u("atomic.rmw32_u.xor_u","i64",1),65089:u("atomic.rmw.xchg","i32",1),65090:u("atomic.rmw.xchg","i64",1),65091:u("atomic.rmw8_u.xchg_u","i32",1),65092:u("atomic.rmw16_u.xchg_u","i32",1),65093:u("atomic.rmw8_u.xchg_u","i64",1),65094:u("atomic.rmw16_u.xchg_u","i64",1),65095:u("atomic.rmw32_u.xchg_u","i64",1),65096:u("atomic.rmw.cmpxchg","i32",1),65097:u("atomic.rmw.cmpxchg","i64",1),65098:u("atomic.rmw8_u.cmpxchg_u","i32",1),65099:u("atomic.rmw16_u.cmpxchg_u","i32",1),65100:u("atomic.rmw8_u.cmpxchg_u","i64",1),65101:u("atomic.rmw16_u.cmpxchg_u","i64",1),65102:u("atomic.rmw32_u.cmpxchg_u","i64",1)},Zu=dt(Cn,function(t){return typeof t.object=="string"?"".concat(t.object,".").concat(t.name):t.name}),$u={symbolsByByte:Cn,sections:Vu,magicModuleHeader:ju,moduleVersion:Du,types:Ru,valtypes:cr,exportTypes:Tn,blockTypes:Hu,tableTypes:Wu,globalTypes:An,importTypes:zu,valtypesByString:Gu,globalTypesByString:Xu,exportTypesByName:Uu,symbolsByName:Zu};Ge.default=$u});var Dn=j(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.isAnonymous=rs;V.getSectionMetadata=ns;V.getSectionMetadatas=os;V.sortSectionMetadata=is;V.orderedInsertNode=as;V.assertHasLoc=mr;V.getEndOfSection=us;V.shiftLoc=pt;V.shiftSection=ss;V.signatureForOpcode=fs;V.getUniqueNameGenerator=ls;V.getStartByteOffset=yt;V.getEndByteOffset=cs;V.getFunctionBeginingByteOffset=ds;V.getEndBlockByteOffset=ps;V.getStartBlockByteOffset=ys;var Qu=fr(),yr=sr(),dr=Ku(qn());function jn(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(jn=function(s){return s?r:e})(t)}function Ku(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||ce(t)!=="object"&&typeof t!="function")return{default:t};var r=jn(e);if(r&&r.has(t))return r.get(t);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if(c!=="default"&&Object.prototype.hasOwnProperty.call(t,c)){var p=s?Object.getOwnPropertyDescriptor(t,c):null;p&&(p.get||p.set)?Object.defineProperty(n,c,p):n[c]=t[c]}return n.default=t,r&&r.set(t,n),n}function pr(t,e){return ts(t)||es(t,e)||Yu(t,e)||Ju()}function Ju(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yu(t,e){if(!!t){if(typeof t=="string")return Bn(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bn(t,e)}}function Bn(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function es(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],s=!0,c=!1,p,o;try{for(r=r.call(t);!(s=(p=r.next()).done)&&(n.push(p.value),!(e&&n.length===e));s=!0);}catch(f){c=!0,o=f}finally{try{!s&&r.return!=null&&r.return()}finally{if(c)throw o}}return n}}function ts(t){if(Array.isArray(t))return t}function ce(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ce=function(r){return typeof r}:ce=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ce(t)}function rs(t){return t.raw===""}function ns(t,e){var r;return(0,yr.traverse)(t,{SectionMetadata:function(n){function s(c){return n.apply(this,arguments)}return s.toString=function(){return n.toString()},s}(function(n){var s=n.node;s.section===e&&(r=s)})}),r}function os(t,e){var r=[];return(0,yr.traverse)(t,{SectionMetadata:function(n){function s(c){return n.apply(this,arguments)}return s.toString=function(){return n.toString()},s}(function(n){var s=n.node;s.section===e&&r.push(s)})}),r}function is(t){if(t.metadata==null){console.warn("sortSectionMetadata: no metadata to sort");return}t.metadata.sections.sort(function(e,r){var n=dr.default.sections[e.section],s=dr.default.sections[r.section];if(typeof n!="number"||typeof s!="number")throw new Error("Section id not found");return n-s})}function as(t,e){mr(e);var r=!1;if(e.type==="ModuleExport"){t.fields.push(e);return}t.fields=t.fields.reduce(function(n,s){var c=1/0;return s.loc!=null&&(c=s.loc.end.column),r===!1&&e.loc.start.column<c&&(r=!0,n.push(e)),n.push(s),n},[]),r===!1&&t.fields.push(e)}function mr(t){if(t.loc==null||t.loc.start==null||t.loc.end==null)throw new Error("Internal failure: node (".concat(JSON.stringify(t.type),") has no location information"))}function us(t){return mr(t.size),t.startOffset+t.size.value+(t.size.loc.end.column-t.size.loc.start.column)}function pt(t,e){t.loc.start.column+=e,t.loc.end.column+=e}function ss(t,e,r){if(e.type!=="SectionMetadata")throw new Error("Can not shift node "+JSON.stringify(e.type));e.startOffset+=r,ce(e.size.loc)==="object"&&pt(e.size,r),ce(e.vectorOfSize)==="object"&&ce(e.vectorOfSize.loc)==="object"&&pt(e.vectorOfSize,r);var n=e.section;(0,yr.traverse)(t,{Node:function(c){var p=c.node,o=(0,dr.getSectionForNode)(p);o===n&&ce(p.loc)==="object"&&pt(p,r)}})}function fs(t,e){var r=e;t!==void 0&&t!==""&&(r=t+"."+e);var n=Qu.signatures[r];return n==null?[t,t]:n[0]}function ls(){var t={};return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"temp";return e in t?t[e]=t[e]+1:t[e]=0,e+"_"+t[e]}}function yt(t){if(typeof t.loc>"u"||typeof t.loc.start>"u")throw new Error("Can not get byte offset without loc informations, node: "+String(t.id));return t.loc.start.column}function cs(t){if(typeof t.loc>"u"||typeof t.loc.end>"u")throw new Error("Can not get byte offset without loc informations, node: "+t.type);return t.loc.end.column}function ds(t){if(!(t.body.length>0))throw new Error("n.body.length > 0 error: unknown");var e=pr(t.body,1),r=e[0];return yt(r)}function ps(t){if(!(t.instr.length>0||t.body.length>0))throw new Error("n.instr.length > 0 || n.body.length > 0 error: unknown");var e;if(t.instr&&(e=t.instr[t.instr.length-1]),t.body&&(e=t.body[t.body.length-1]),ce(e)!=="object")throw new Error('typeof lastInstruction === "object" error: unknown');return yt(e)}function ys(t){if(!(t.instr.length>0||t.body.length>0))throw new Error("n.instr.length > 0 || n.body.length > 0 error: unknown");var e;if(t.instr){var r=pr(t.instr,1);e=r[0]}if(t.body){var n=pr(t.body,1);e=n[0]}if(ce(e)!=="object")throw new Error('typeof fistInstruction === "object" error: unknown');return yt(e)}});var Rn=j(hr=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});hr.cloneNode=ms;function ms(t){return Object.assign({},t)}});var Hn=j(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.moduleContextFromModuleAST=vs;We.ModuleContext=void 0;var Un=je();function hs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function gs(t,e,r){return e&&Gn(t.prototype,e),r&&Gn(t,r),t}function vs(t){var e=new Wn;if(t.type!=="Module")throw new Error('m.type === "Module" error: unknown');return t.fields.forEach(function(r){switch(r.type){case"Start":{e.setStart(r.index);break}case"TypeInstruction":{e.addType(r);break}case"Func":{e.addFunction(r);break}case"Global":{e.defineGlobal(r);break}case"ModuleImport":{switch(r.descr.type){case"GlobalType":{e.importGlobal(r.descr.valtype,r.descr.mutability);break}case"Memory":{e.addMemory(r.descr.limits.min,r.descr.limits.max);break}case"FuncImportDescr":{e.importFunction(r.descr);break}case"Table":break;default:throw new Error("Unsupported ModuleImport of type "+JSON.stringify(r.descr.type))}break}case"Memory":{e.addMemory(r.limits.min,r.limits.max);break}}}),e}var Wn=function(){function t(){hs(this,t),this.funcs=[],this.funcsOffsetByIdentifier=[],this.types=[],this.globals=[],this.globalsOffsetByIdentifier=[],this.mems=[],this.locals=[],this.labels=[],this.return=[],this.debugName="unknown",this.start=null}return gs(t,[{key:"setStart",value:function(r){this.start=r.value}},{key:"getStart",value:function(){return this.start}},{key:"newContext",value:function(r,n){this.locals=[],this.labels=[n],this.return=n,this.debugName=r}},{key:"addFunction",value:function(r){var n=r.signature||{},s=n.params,c=s===void 0?[]:s,p=n.results,o=p===void 0?[]:p;c=c.map(function(f){return f.valtype}),this.funcs.push({args:c,result:o}),typeof r.name<"u"&&(this.funcsOffsetByIdentifier[r.name.value]=this.funcs.length-1)}},{key:"importFunction",value:function(r){if((0,Un.isSignature)(r.signature)){var n=r.signature,s=n.params,c=n.results;s=s.map(function(f){return f.valtype}),this.funcs.push({args:s,result:c})}else{if(!(0,Un.isNumberLiteral)(r.signature))throw new Error("isNumberLiteral(funcimport.signature) error: unknown");var p=r.signature.value;if(!this.hasType(p))throw new Error("this.hasType(typeId) error: unknown");var o=this.getType(p);this.funcs.push({args:o.params.map(function(f){return f.valtype}),result:o.results})}typeof r.id<"u"&&(this.funcsOffsetByIdentifier[r.id.value]=this.funcs.length-1)}},{key:"hasFunction",value:function(r){return typeof this.getFunction(r)<"u"}},{key:"getFunction",value:function(r){if(typeof r!="number")throw new Error("getFunction only supported for number index");return this.funcs[r]}},{key:"getFunctionOffsetByIdentifier",value:function(r){if(typeof r!="string")throw new Error('typeof name === "string" error: unknown');return this.funcsOffsetByIdentifier[r]}},{key:"addLabel",value:function(r){this.labels.unshift(r)}},{key:"hasLabel",value:function(r){return this.labels.length>r&&r>=0}},{key:"getLabel",value:function(r){return this.labels[r]}},{key:"popLabel",value:function(){this.labels.shift()}},{key:"hasLocal",value:function(r){return typeof this.getLocal(r)<"u"}},{key:"getLocal",value:function(r){return this.locals[r]}},{key:"addLocal",value:function(r){this.locals.push(r)}},{key:"addType",value:function(r){if(r.functype.type!=="Signature")throw new Error('type.functype.type === "Signature" error: unknown');this.types.push(r.functype)}},{key:"hasType",value:function(r){return this.types[r]!==void 0}},{key:"getType",value:function(r){return this.types[r]}},{key:"hasGlobal",value:function(r){return this.globals.length>r&&r>=0}},{key:"getGlobal",value:function(r){return this.globals[r].type}},{key:"getGlobalOffsetByIdentifier",value:function(r){if(typeof r!="string")throw new Error('typeof name === "string" error: unknown');return this.globalsOffsetByIdentifier[r]}},{key:"defineGlobal",value:function(r){var n=r.globalType.valtype,s=r.globalType.mutability;this.globals.push({type:n,mutability:s}),typeof r.name<"u"&&(this.globalsOffsetByIdentifier[r.name.value]=this.globals.length-1)}},{key:"importGlobal",value:function(r,n){this.globals.push({type:r,mutability:n})}},{key:"isMutableGlobal",value:function(r){return this.globals[r].mutability==="var"}},{key:"isImmutableGlobal",value:function(r){return this.globals[r].mutability==="const"}},{key:"hasMemory",value:function(r){return this.mems.length>r&&r>=0}},{key:"addMemory",value:function(r,n){this.mems.push({min:r,max:n})}},{key:"getMemory",value:function(r){return this.mems[r]}}]),t}();We.ModuleContext=Wn});var br=j(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});var Xn={numberLiteralFromRaw:!0,withLoc:!0,withRaw:!0,funcParam:!0,indexLiteral:!0,memIndexLiteral:!0,instruction:!0,objectInstruction:!0,traverse:!0,signatures:!0,cloneNode:!0,moduleContextFromModuleAST:!0};Object.defineProperty(X,"numberLiteralFromRaw",{enumerable:!0,get:function(){return we.numberLiteralFromRaw}});Object.defineProperty(X,"withLoc",{enumerable:!0,get:function(){return we.withLoc}});Object.defineProperty(X,"withRaw",{enumerable:!0,get:function(){return we.withRaw}});Object.defineProperty(X,"funcParam",{enumerable:!0,get:function(){return we.funcParam}});Object.defineProperty(X,"indexLiteral",{enumerable:!0,get:function(){return we.indexLiteral}});Object.defineProperty(X,"memIndexLiteral",{enumerable:!0,get:function(){return we.memIndexLiteral}});Object.defineProperty(X,"instruction",{enumerable:!0,get:function(){return we.instruction}});Object.defineProperty(X,"objectInstruction",{enumerable:!0,get:function(){return we.objectInstruction}});Object.defineProperty(X,"traverse",{enumerable:!0,get:function(){return bs.traverse}});Object.defineProperty(X,"signatures",{enumerable:!0,get:function(){return ws.signatures}});Object.defineProperty(X,"cloneNode",{enumerable:!0,get:function(){return xs.cloneNode}});Object.defineProperty(X,"moduleContextFromModuleAST",{enumerable:!0,get:function(){return ks.moduleContextFromModuleAST}});var gr=je();Object.keys(gr).forEach(function(t){t==="default"||t==="__esModule"||Object.prototype.hasOwnProperty.call(Xn,t)||t in X&&X[t]===gr[t]||Object.defineProperty(X,t,{enumerable:!0,get:function(){return gr[t]}})});var we=Mn(),bs=sr(),ws=fr(),vr=Dn();Object.keys(vr).forEach(function(t){t==="default"||t==="__esModule"||Object.prototype.hasOwnProperty.call(Xn,t)||t in X&&X[t]===vr[t]||Object.defineProperty(X,t,{enumerable:!0,get:function(){return vr[t]}})});var xs=Rn(),ks=Hn()});var Ir=j(_r=>{"use strict";Object.defineProperty(_r,"__esModule",{value:!0});_r.print=Ls;var me=br(),_s=Is(Kt());function Is(t){return t&&t.__esModule?t:{default:t}}function mt(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mt=function(r){return typeof r}:mt=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},mt(t)}function Es(t,e){return Ps(t)||Ss(t,e)||Fs(t,e)||Ms()}function Ms(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fs(t,e){if(!!t){if(typeof t=="string")return zn(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zn(t,e)}}function zn(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ss(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],s=!0,c=!1,p,o;try{for(r=r.call(t);!(s=(p=r.next()).done)&&(n.push(p.value),!(e&&n.length===e));s=!0);}catch(f){c=!0,o=f}finally{try{!s&&r.return!=null&&r.return()}finally{if(c)throw o}}return n}}function Ps(t){if(Array.isArray(t))return t}var G=!1,x=" ",wr=function(e){return'"'.concat(e,'"')};function Y(t){return Array(t).fill(x+x).join("")}function Ls(t){if(t.type==="Program")return Ns(t,0);throw new Error("Unsupported node in print of type: "+String(t.type))}function Ns(t,e){return t.body.reduce(function(r,n){return n.type==="Module"&&(r+=Ts(n,e+1)),n.type==="Func"&&(r+=Jn(n,e+1)),n.type==="BlockComment"&&(r+=Zn(n)),n.type==="LeadingComment"&&(r+=Vn(n)),G===!1&&(r+=`
`),r},"")}function Os(t){var e="";return e+="(",e+="type",e+=x,t.id!=null&&(e+=ae(t.id),e+=x),e+="(",e+="func",t.functype.params.forEach(function(r){e+=x,e+="(",e+="param",e+=x,e+=Kn(r),e+=")"}),t.functype.results.forEach(function(r){e+=x,e+="(",e+="result",e+=x,e+=r,e+=")"}),e+=")",e+=")",e}function Ts(t,e){var r="(";return r+="module",typeof t.id=="string"&&(r+=x,r+=t.id),G===!1?r+=`
`:r+=x,t.fields.forEach(function(n){switch(G===!1&&(r+=Y(e)),n.type){case"Func":{r+=Jn(n,e+1);break}case"TypeInstruction":{r+=Os(n);break}case"Table":{r+=Qn(n);break}case"Global":{r+=Ds(n,e+1);break}case"ModuleExport":{r+=Zs(n);break}case"ModuleImport":{r+=js(n);break}case"Memory":{r+=$s(n);break}case"BlockComment":{r+=Zn(n);break}case"LeadingComment":{r+=Vn(n);break}case"Start":{r+=qs(n);break}case"Elem":{r+=Cs(n,e);break}case"Data":{r+=As(n,e);break}default:throw new Error("Unsupported node in printModule: "+String(n.type))}G===!1&&(r+=`
`)}),r+=")",r}function As(t,e){var r="";return r+="(",r+="data",r+=x,r+=ae(t.memoryIndex),r+=x,r+=fe(t.offset,e),r+=x,r+='"',t.init.values.forEach(function(n){if(n<=31||n==34||n==92||n>=127)r+="\\",r+=("00"+n.toString(16)).substr(-2);else{if(n>255)throw new Error("Unsupported byte in data segment: "+n);r+=String.fromCharCode(n)}}),r+='"',r+=")",r}function Cs(t,e){var r="";r+="(",r+="elem",r+=x,r+=ae(t.table);var n=Es(t.offset,1),s=n[0];return r+=x,r+="(",r+="offset",r+=x,r+=fe(s,e),r+=")",t.funcs.forEach(function(c){r+=x,r+=ae(c)}),r+=")",r}function qs(t){var e="";return e+="(",e+="start",e+=x,e+=ae(t.index),e+=")",e}function Vn(t){if(G===!0)return"";var e="";return e+=";;",e+=t.value,e+=`
`,e}function Zn(t){if(G===!0)return"";var e="";return e+="(;",e+=t.value,e+=";)",e+=`
`,e}function kr(t){var e="";return t.params.forEach(function(r){e+=x,e+="(",e+="param",e+=x,e+=Kn(r),e+=")"}),t.results.forEach(function(r){e+=x,e+="(",e+="result",e+=x,e+=r,e+=")"}),e}function Bs(t){var e="";return t.type==="FuncImportDescr"&&(e+="(",e+="func",(0,me.isAnonymous)(t.id)===!1&&(e+=x,e+=de(t.id)),e+=kr(t.signature),e+=")"),t.type==="GlobalType"&&(e+="(",e+="global",e+=x,e+=$n(t),e+=")"),t.type==="Table"&&(e+=Qn(t)),e}function js(t){var e="";return e+="(",e+="import",e+=x,e+=wr(t.module),e+=x,e+=wr(t.name),e+=x,e+=Bs(t.descr),e+=")",e}function $n(t){var e="";return t.mutability==="var"?(e+="(",e+="mut",e+=x,e+=t.valtype,e+=")"):e+=t.valtype,e}function Ds(t,e){var r="";return r+="(",r+="global",r+=x,t.name!=null&&(0,me.isAnonymous)(t.name)===!1&&(r+=de(t.name),r+=x),r+=$n(t.globalType),r+=x,t.init.forEach(function(n){r+=fe(n,e+1)}),r+=")",r}function Qn(t){var e="";return e+="(",e+="table",e+=x,t.name!=null&&(0,me.isAnonymous)(t.name)===!1&&(e+=de(t.name),e+=x),e+=eo(t.limits),e+=x,e+=t.elementType,e+=")",e}function Kn(t){var e="";return typeof t.id=="string"&&(e+="$"+t.id,e+=x),e+=t.valtype,e}function Jn(t,e){var r="";if(r+="(",r+="func",t.name!=null&&t.name.type==="Identifier"&&(0,me.isAnonymous)(t.name)===!1&&(r+=x,r+=de(t.name)),t.signature.type==="Signature")r+=kr(t.signature);else{var n=t.signature;r+=x,r+="(",r+="type",r+=x,r+=ae(n),r+=")"}if(t.body.length>0){if(t.body.length===1&&t.body[0].id==="end")return r+=")",r;G===!1&&(r+=`
`),t.body.forEach(function(s){s.id!=="end"&&(r+=Y(e),r+=fe(s,e),G===!1&&(r+=`
`))}),r+=Y(e-1)+")"}else r+=")";return r}function fe(t,e){switch(t.type){case"Instr":return Xs(t,e+1);case"BlockInstruction":return Hs(t,e+1);case"IfInstruction":return Ws(t,e+1);case"CallInstruction":return Gs(t,e+1);case"CallIndirectInstruction":return Rs(t,e+1);case"LoopInstruction":return Us(t,e+1);default:throw new Error("Unsupported instruction: "+JSON.stringify(t.type))}}function Rs(t,e){var r="";if(r+="(",r+="call_indirect",t.signature.type==="Signature")r+=kr(t.signature);else if(t.signature.type==="Identifier")r+=x,r+="(",r+="type",r+=x,r+=de(t.signature),r+=")";else throw new Error("CallIndirectInstruction: unsupported signature "+JSON.stringify(t.signature.type));return r+=x,t.intrs!=null&&t.intrs.forEach(function(n,s){r+=fe(n,e+1),s!==t.intrs.length-1&&(r+=x)}),r+=")",r}function Us(t,e){var r="";return r+="(",r+="loop",t.label!=null&&(0,me.isAnonymous)(t.label)===!1&&(r+=x,r+=de(t.label)),typeof t.resulttype=="string"&&(r+=x,r+="(",r+="result",r+=x,r+=t.resulttype,r+=")"),t.instr.length>0&&(t.instr.forEach(function(n){G===!1&&(r+=`
`),r+=Y(e),r+=fe(n,e+1)}),G===!1&&(r+=`
`,r+=Y(e-1))),r+=")",r}function Gs(t,e){var r="";return r+="(",r+="call",r+=x,r+=ae(t.index),mt(t.instrArgs)==="object"&&t.instrArgs.forEach(function(n){r+=x,r+=xr(n,e+1)}),r+=")",r}function Ws(t,e){var r="";return r+="(",r+="if",t.testLabel!=null&&(0,me.isAnonymous)(t.testLabel)===!1&&(r+=x,r+=de(t.testLabel)),typeof t.result=="string"&&(r+=x,r+="(",r+="result",r+=x,r+=t.result,r+=")"),t.test.length>0&&(r+=x,t.test.forEach(function(n){r+=fe(n,e+1)})),t.consequent.length>0?(G===!1&&(r+=`
`),r+=Y(e),r+="(",r+="then",e++,t.consequent.forEach(function(n){G===!1&&(r+=`
`),r+=Y(e),r+=fe(n,e+1)}),e--,G===!1&&(r+=`
`,r+=Y(e)),r+=")"):(G===!1&&(r+=`
`,r+=Y(e)),r+="(",r+="then",r+=")"),t.alternate.length>0?(G===!1&&(r+=`
`),r+=Y(e),r+="(",r+="else",e++,t.alternate.forEach(function(n){G===!1&&(r+=`
`),r+=Y(e),r+=fe(n,e+1)}),e--,G===!1&&(r+=`
`,r+=Y(e)),r+=")"):(G===!1&&(r+=`
`,r+=Y(e)),r+="(",r+="else",r+=")"),G===!1&&(r+=`
`,r+=Y(e-1)),r+=")",r}function Hs(t,e){var r="";return r+="(",r+="block",t.label!=null&&(0,me.isAnonymous)(t.label)===!1&&(r+=x,r+=de(t.label)),typeof t.result=="string"&&(r+=x,r+="(",r+="result",r+=x,r+=t.result,r+=")"),t.instr.length>0&&(t.instr.forEach(function(n){G===!1&&(r+=`
`),r+=Y(e),r+=fe(n,e+1)}),G===!1&&(r+=`
`),r+=Y(e-1)),r+=")",r}function Xs(t,e){var r="";if(r+="(",typeof t.object=="string"&&(r+=t.object,r+="."),r+=t.id,t.args.forEach(function(s){r+=x,r+=xr(s,e+1)}),t.namedArgs!==void 0)for(var n in t.namedArgs)r+=x+n+"=",r+=xr(t.namedArgs[n],e+1);return r+=")",r}function zs(t){if(typeof t.raw=="string")return t.raw;var e=t.value,r=e.low,n=e.high,s=new _s.default(r,n);return s.toString()}function Vs(t){return typeof t.raw=="string"?t.raw:String(t.value)}function xr(t,e){var r="";return t.type==="NumberLiteral"&&(r+=Yn(t)),t.type==="LongNumberLiteral"&&(r+=zs(t)),t.type==="Identifier"&&(0,me.isAnonymous)(t)===!1&&(r+=de(t)),t.type==="ValtypeLiteral"&&(r+=t.name),t.type==="FloatLiteral"&&(r+=Vs(t)),(0,me.isInstruction)(t)&&(r+=fe(t,e+1)),r}function Yn(t){return typeof t.raw=="string"?t.raw:String(t.value)}function Zs(t){var e="";if(e+="(",e+="export",e+=x,e+=wr(t.name),t.descr.exportType==="Func")e+=x,e+="(",e+="func",e+=x,e+=ae(t.descr.id),e+=")";else if(t.descr.exportType==="Global")e+=x,e+="(",e+="global",e+=x,e+=ae(t.descr.id),e+=")";else if(t.descr.exportType==="Memory")e+=x,e+="(",e+="memory",e+=x,e+=ae(t.descr.id),e+=")";else if(t.descr.exportType==="Table")e+=x,e+="(",e+="table",e+=x,e+=ae(t.descr.id),e+=")";else throw new Error("printModuleExport: unknown type: "+t.descr.exportType);return e+=")",e}function de(t){return"$"+t.value}function ae(t){if(t.type==="Identifier")return de(t);if(t.type==="NumberLiteral")return Yn(t);throw new Error("Unsupported index: "+t.type)}function $s(t){var e="";return e+="(",e+="memory",t.id!=null&&(e+=x,e+=ae(t.id),e+=x),e+=eo(t.limits),e+=")",e}function eo(t){var e="";return e+=t.min+"",t.max!=null&&(e+=x,e+=String(t.max),t.shared===!0&&(e+=" shared")),e}});var Er=j(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.codeFrameFromAst=Js;gt.codeFrameFromSource=ro;var Qs=Ir();function ht(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ht=function(r){return typeof r}:ht=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ht(t)}var Ks=5;function to(t,e){return Array(e).fill(t).join("")}function Js(t,e){return ro((0,Qs.print)(t),e)}function ro(t,e){var r=e.start,n=e.end,s=1;return ht(n)==="object"&&(s=n.column-r.column+1),t.split(`
`).reduce(function(c,p,o){return Math.abs(r.line-o)<Ks&&(c+=p+`
`),o===r.line-1&&(c+=to(" ",r.column-1),c+=to("^",s),c+=`
`),c},"")}});var no=j(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr.parseString=nf;var Ys=[0,7,8,9,10,11,12,13,26,27,127];function ef(t){switch(t){case"t":return 9;case"n":return 10;case"r":return 13;case'"':return 34;case"\u2032":return 39;case"\\":return 92}return-1}var tf=92,rf=34;function nf(t){for(var e=[],r=0;r<t.length;){var n=t.charCodeAt(r);if(Ys.indexOf(n)!==-1)throw new Error("ASCII control characters are not permitted within string literals");if(n===rf)throw new Error("quotes are not permitted within string literals");if(n===tf){var s=t.substr(r+1,1),c=ef(s);if(c!==-1)e.push(c),r+=2;else{var p=t.substr(r+1,2);if(!/^[0-9A-F]{2}$/i.test(p))throw new Error("invalid character encoding");e.push(parseInt(p,16)),r+=3}}else e.push(n),r++}return e}});var uo=j(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.makeTransition=df;He.FSM=void 0;function of(t,e){return ff(t)||sf(t,e)||uf(t,e)||af()}function af(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uf(t,e){if(!!t){if(typeof t=="string")return oo(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oo(t,e)}}function oo(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sf(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],s=!0,c=!1,p,o;try{for(r=r.call(t);!(s=(p=r.next()).done)&&(n.push(p.value),!(e&&n.length===e));s=!0);}catch(f){c=!0,o=f}finally{try{!s&&r.return!=null&&r.return()}finally{if(c)throw o}}return n}}function ff(t){if(Array.isArray(t))return t}function lf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function io(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function cf(t,e,r){return e&&io(t.prototype,e),r&&io(t,r),t}var ao=Symbol("STOP");function df(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=r.n,s=n===void 0?1:n,c=r.allowedSeparator;return function(p){return c&&p.input[p.ptr]===c?t.test(p.input.substring(p.ptr-1,p.ptr))?[p.currentState,1]:[p.terminatingState,0]:t.test(p.input.substring(p.ptr,p.ptr+s))?[e,s]:!1}}function pf(t){return function(){for(var e=!1,r=t[this.currentState]||[],n=0;n<r.length&&(e=r[n](this),e===!1);++n);return e||[this.terminatingState,0]}}var yf=function(){function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ao;lf(this,t),this.initialState=r,this.terminatingState=n,(n===ao||!e[n])&&(e[n]=[]),this.transitionFunction=pf.call(this,e)}return cf(t,[{key:"run",value:function(r){this.input=r,this.ptr=0,this.currentState=this.initialState;for(var n="",s,c;this.currentState!==this.terminatingState&&this.ptr<this.input.length;){var p=this.transitionFunction(),o=of(p,2);c=o[0],s=o[1],n+=this.input.substring(this.ptr,this.ptr+=s),this.currentState=c}return n}}]),t}();He.FSM=yf});var Sr=j(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.tokenize=kf;Ee.tokens=Ee.keywords=void 0;var A=uo(),mf=Er();function vt(t,e,r){var n={start:{line:e,column:r}};return`
`+(0,mf.codeFrameFromSource)(t,n)+`
`}var so=/\s/,hf=/\(|\)/,Fr=/[a-z0-9_/]/i,gf=/[a-z0-9!#$%&*+./:<=>?@\\[\]^_`|~-]/i,fo=["i32","i64","f32","f64"],vf=/[0-9|.|_]/,bf=/nan|inf/;function bt(t){return t.charCodeAt(0)===10||t.charCodeAt(0)===13}function wf(t,e,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},c={type:t,value:e,loc:{start:r,end:n}};return Object.keys(s).length>0&&(c.opts=s),c}var ue={openParen:"openParen",closeParen:"closeParen",number:"number",string:"string",name:"name",identifier:"identifier",valtype:"valtype",dot:"dot",comment:"comment",equal:"equal",keyword:"keyword"},lo={module:"module",func:"func",param:"param",result:"result",export:"export",loop:"loop",block:"block",if:"if",then:"then",else:"else",call:"call",call_indirect:"call_indirect",import:"import",memory:"memory",shared:"shared",table:"table",global:"global",anyfunc:"anyfunc",mut:"mut",data:"data",type:"type",elem:"elem",start:"start",offset:"offset"};Ee.keywords=lo;var Ie="_",xf=new A.FSM({START:[(0,A.makeTransition)(/-|\+/,"AFTER_SIGN"),(0,A.makeTransition)(/nan:0x/,"NAN_HEX",{n:6}),(0,A.makeTransition)(/nan|inf/,"STOP",{n:3}),(0,A.makeTransition)(/0x/,"HEX",{n:2}),(0,A.makeTransition)(/[0-9]/,"DEC"),(0,A.makeTransition)(/\./,"DEC_FRAC")],AFTER_SIGN:[(0,A.makeTransition)(/nan:0x/,"NAN_HEX",{n:6}),(0,A.makeTransition)(/nan|inf/,"STOP",{n:3}),(0,A.makeTransition)(/0x/,"HEX",{n:2}),(0,A.makeTransition)(/[0-9]/,"DEC"),(0,A.makeTransition)(/\./,"DEC_FRAC")],DEC_FRAC:[(0,A.makeTransition)(/[0-9]/,"DEC_FRAC",{allowedSeparator:Ie}),(0,A.makeTransition)(/e|E/,"DEC_SIGNED_EXP")],DEC:[(0,A.makeTransition)(/[0-9]/,"DEC",{allowedSeparator:Ie}),(0,A.makeTransition)(/\./,"DEC_FRAC"),(0,A.makeTransition)(/e|E/,"DEC_SIGNED_EXP")],DEC_SIGNED_EXP:[(0,A.makeTransition)(/\+|-/,"DEC_EXP"),(0,A.makeTransition)(/[0-9]/,"DEC_EXP")],DEC_EXP:[(0,A.makeTransition)(/[0-9]/,"DEC_EXP",{allowedSeparator:Ie})],HEX:[(0,A.makeTransition)(/[0-9|A-F|a-f]/,"HEX",{allowedSeparator:Ie}),(0,A.makeTransition)(/\./,"HEX_FRAC"),(0,A.makeTransition)(/p|P/,"HEX_SIGNED_EXP")],HEX_FRAC:[(0,A.makeTransition)(/[0-9|A-F|a-f]/,"HEX_FRAC",{allowedSeparator:Ie}),(0,A.makeTransition)(/p|P|/,"HEX_SIGNED_EXP")],HEX_SIGNED_EXP:[(0,A.makeTransition)(/[0-9|+|-]/,"HEX_EXP")],HEX_EXP:[(0,A.makeTransition)(/[0-9]/,"HEX_EXP",{allowedSeparator:Ie})],NAN_HEX:[(0,A.makeTransition)(/[0-9|A-F|a-f]/,"NAN_HEX",{allowedSeparator:Ie})],STOP:[]},"START","STOP");function kf(t){var e=0,r=t[e],n=1,s=1,c=[];function p(he){return function(ge){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ke=xe.startColumn||n-String(ge).length;delete xe.startColumn;var Pt=xe.endColumn||Ke+String(ge).length-1;delete xe.endColumn;var Lt={line:s,column:Ke},Nt={line:s,column:Pt};c.push(wf(he,ge,Lt,Nt,xe))}}var o=p(ue.closeParen),f=p(ue.openParen),M=p(ue.number),T=p(ue.valtype),b=p(ue.name),C=p(ue.identifier),F=p(ue.keyword),ee=p(ue.dot),ze=p(ue.string),Ve=p(ue.comment),Ze=p(ue.equal);function Me(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return t.substring(e+ge,e+ge+he).toLowerCase()}function U(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;n+=he,e+=he,r=t[e]}for(;e<t.length;){if(r===";"&&Me()===";"){var xt=n;U(2);for(var Ce="";!bt(r)&&(Ce+=r,U(),r!==void 0););var kt=n;Ve(Ce,{type:"leading",startColumn:xt,endColumn:kt});continue}if(r==="("&&Me()===";"){var _t=n;U(2);for(var $e="";;){if(r=t[e],r===";"&&Me()===")"){U(2);break}$e+=r,U(),bt(r)&&(s++,n=0)}var Qe=n;Ve($e,{type:"block",startColumn:_t,endColumn:Qe});continue}if(r==="("){f(r),U();continue}if(r==="="){Ze(r),U();continue}if(r===")"){o(r),U();continue}if(bt(r)){s++,U(),n=0;continue}if(so.test(r)){U();continue}if(r==="$"){var It=n;U();for(var Z="";gf.test(r);)Z+=r,U();var Et=n;C(Z,{startColumn:It,endColumn:Et});continue}if(vf.test(r)||bf.test(Me(3,0))||r==="-"||r==="+"){var Mt=n,qe=xf.run(t.slice(e));if(qe==="")throw new Error(vt(t,s,n)+"Unexpected character "+JSON.stringify(r));if(M(qe,{startColumn:Mt}),U(qe.length),r&&!hf.test(r)&&!so.test(r))throw new Error(vt(t,s,n)+"Unexpected character "+JSON.stringify(r));continue}if(r==='"'){var Fe=n,Se="";for(U();r!=='"';){if(bt(r))throw new Error(vt(t,s,n)+"Unexpected character "+JSON.stringify(r));Se+=r,U()}U();var Ft=n;ze(Se,{startColumn:Fe,endColumn:Ft});continue}if(Fr.test(r)){for(var $="",Pe=n;r&&Fr.test(r);)$+=r,U();if(r==="."){var St=n;for(fo.indexOf($)!==-1?T($,{startColumn:Pe}):b($);r===".";){U(),$="";for(var Q=n;Fr.test(r);)$+=r,U();ee(".",{startColumn:St}),b($,{startColumn:Q})}continue}if(typeof lo[$]=="string"){F($,{startColumn:Pe});continue}if(fo.indexOf($)!==-1){T($,{startColumn:Pe});continue}b($,{startColumn:Pe});continue}throw new Error(vt(t,s,n)+"Unexpected character "+JSON.stringify(r))}return c}var _f=ue;Ee.tokens=_f});var yo=j(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});Nr.parse=Lf;var W=Er(),y=Ef(br()),co=lt(),If=no(),a=Sr();function po(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(po=function(s){return s?r:e})(t)}function Ef(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||Xe(t)!=="object"&&typeof t!="function")return{default:t};var r=po(e);if(r&&r.has(t))return r.get(t);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if(c!=="default"&&Object.prototype.hasOwnProperty.call(t,c)){var p=s?Object.getOwnPropertyDescriptor(t,c):null;p&&(p.get||p.set)?Object.defineProperty(n,c,p):n[c]=t[c]}return n.default=t,r&&r.set(t,n),n}function Xe(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xe=function(r){return typeof r}:Xe=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Xe(t)}function Te(t){return Pf(t)||Sf(t)||Ff(t)||Mf()}function Mf(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ff(t,e){if(!!t){if(typeof t=="string")return Lr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lr(t,e)}}function Sf(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pf(t){if(Array.isArray(t))return Lr(t)}function Lr(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Pr(t){if(t!=="wast")throw new Error("unknow plugin");return!0}function N(t,e){return t.type===a.tokens.keyword&&t.value===e}function R(t){return t.type==="keyword"?"keyword (".concat(t.value,")"):t.type}function re(t){var e=t.loc,r=e.end,n=e.start;return y.withLoc(y.identifier(t.value),r,n)}function Lf(t,e){var r=0,n=y.getUniqueNameGenerator(),s={registredExportedElements:[]};function c(){var o=t[r];function f(){o=t[++r]}function M(){var m=o;if(typeof m>"u"){var h=t[t.length-1];m=h}return m.loc.end}function T(){return o.loc.start}function b(m){if(o.type!==m)throw new Error(`
`+(0,W.codeFrameFromSource)(e,o.loc)+"Assertion error: expected token of type "+m+", given "+R(o));f()}function C(m){if(m.type===a.tokens.identifier){var h=re(m);return f(),h}else if(m.type===a.tokens.number){var w=y.numberLiteralFromRaw(m.value);return f(),w}else throw function(){return new Error(`
`+(0,W.codeFrameFromSource)(e,m.loc)+`
unknown export index, given `+R(m))}()}function F(){for(var m=arguments.length,h=0;h<m;h++){var w=t[r+h],L=h<0||arguments.length<=h?void 0:arguments[h];if(w.type==="keyword"){if(N(w,L)===!1)return!1}else if(L!==w.type)return!1}return!0}function ee(){if(!(typeof o>"u"))for(;o.type===a.tokens.comment&&(f(),!(typeof o>"u")););}function ze(){var m=y.identifier(n("memory")),h=y.limit(0);if(o.type===a.tokens.string||o.type===a.tokens.identifier?(m=y.identifier(o.value),f()):m=y.withRaw(m,""),F(a.tokens.openParen,a.keywords.data)){f(),f();var w=o.value;b(a.tokens.string),h=y.limit(w.length),b(a.tokens.closeParen)}if(F(a.tokens.openParen,a.keywords.export)){if(f(),f(),o.type!==a.tokens.string)throw function(){return new Error(`
`+(0,W.codeFrameFromSource)(e,o.loc)+`
Expected string in export, given `+R(o))}();var L=o.value;f(),s.registredExportedElements.push({exportType:"Memory",name:L,id:m}),b(a.tokens.closeParen)}return o.type===a.tokens.number&&(h=y.limit((0,co.parse32I)(o.value)),f(),o.type===a.tokens.number&&(h.max=(0,co.parse32I)(o.value),f(),o.type===a.tokens.keyword&&o.value==="shared"&&(h.shared=!0,f()))),y.memory(h,m)}function Ve(){var m=0;o.type===a.tokens.number&&(m=o.value,b(a.tokens.number)),b(a.tokens.openParen);var h;if(o.type===a.tokens.valtype){if(b(a.tokens.valtype),b(a.tokens.dot),o.value!=="const")throw new Error("constant expression required");b(a.tokens.name);var w=y.numberLiteralFromRaw(o.value,"i32");h=y.objectInstruction("const","i32",[w]),f(),b(a.tokens.closeParen)}else{b(a.tokens.name);var L=y.numberLiteralFromRaw(o.value,"i32");h=y.instruction("get_global",[L]),f(),b(a.tokens.closeParen)}var q=(0,If.parseString)(o.value);return f(),y.data(y.memIndexLiteral(m),h,y.byteArray(q))}function Ze(){var m=y.identifier(n("table")),h=y.limit(0),w=[],L="anyfunc";for(o.type===a.tokens.string||o.type===a.tokens.identifier?(m=re(o),f()):m=y.withRaw(m,"");o.type!==a.tokens.closeParen;)if(F(a.tokens.openParen,a.keywords.elem)){for(f(),f();o.type===a.tokens.identifier;)w.push(y.identifier(o.value)),f();b(a.tokens.closeParen)}else if(F(a.tokens.openParen,a.keywords.export)){if(f(),f(),o.type!==a.tokens.string)throw function(){return new Error(`
`+(0,W.codeFrameFromSource)(e,o.loc)+`
Expected string in export, given `+R(o))}();var q=o.value;f(),s.registredExportedElements.push({exportType:"Table",name:q,id:m}),b(a.tokens.closeParen)}else if(N(o,a.keywords.anyfunc))f();else if(o.type===a.tokens.number){var K=parseInt(o.value);if(f(),o.type===a.tokens.number){var z=parseInt(o.value);f(),h=y.limit(K,z)}else h=y.limit(K);f()}else throw function(){return new Error(`
`+(0,W.codeFrameFromSource)(e,o.loc)+`
Unexpected token, given `+R(o))}();return w.length>0?y.table(L,h,m,w):y.table(L,h,m)}function Me(){if(o.type!==a.tokens.string)throw new Error("Expected a string, "+o.type+" given.");var m=o.value;if(f(),o.type!==a.tokens.string)throw new Error("Expected a string, "+o.type+" given.");var h=o.value;f(),b(a.tokens.openParen);var w;if(N(o,a.keywords.func)){f();var L=[],q=[],K,z=y.identifier(n("func"));for(o.type===a.tokens.identifier&&(z=re(o),f());o.type===a.tokens.openParen;){if(f(),F(a.keywords.type)===!0)f(),K=Se();else if(F(a.keywords.param)===!0)f(),L.push.apply(L,Te($()));else if(F(a.keywords.result)===!0)f(),q.push.apply(q,Te(Fe()));else throw function(){return new Error(`
`+(0,W.codeFrameFromSource)(e,o.loc)+`
Unexpected token in import of type, given `+R(o))}();b(a.tokens.closeParen)}if(typeof z>"u")throw new Error("Imported function must have a name");w=y.funcImportDescr(z,K!==void 0?K:y.signature(L,q))}else if(N(o,a.keywords.global))if(f(),o.type===a.tokens.openParen){f(),b(a.tokens.keyword);var Je=o.value;f(),w=y.globalType(Je,"var"),b(a.tokens.closeParen)}else{var Ye=o.value;b(a.tokens.valtype),w=y.globalType(Ye,"const")}else if(N(o,a.keywords.memory)===!0)f(),w=ze();else if(N(o,a.keywords.table)===!0)f(),w=Ze();else throw new Error("Unsupported import type: "+R(o));return b(a.tokens.closeParen),y.moduleImport(m,h,w)}function U(){var m=y.identifier(n("block")),h=null,w=[];for(o.type===a.tokens.identifier?(m=re(o),f()):m=y.withRaw(m,"");o.type===a.tokens.openParen;){if(f(),F(a.keywords.result)===!0)f(),h=o.value,f();else if(F(a.tokens.name)===!0||F(a.tokens.valtype)===!0||o.type==="keyword")w.push(Z());else throw function(){return new Error(`
`+(0,W.codeFrameFromSource)(e,o.loc)+`
Unexpected token in block body of type, given `+R(o))}();ee(),b(a.tokens.closeParen)}return y.blockInstruction(m,w,h)}function xt(){var m=null,h=y.identifier(n("if")),w=[],L=[],q=[];for(o.type===a.tokens.identifier?(h=re(o),f()):h=y.withRaw(h,"");o.type===a.tokens.openParen;){if(f(),N(o,a.keywords.result)===!0){f(),m=o.value,b(a.tokens.valtype),b(a.tokens.closeParen);continue}if(N(o,a.keywords.then)===!0){for(f();o.type===a.tokens.openParen;){if(f(),F(a.tokens.name)===!0||F(a.tokens.valtype)===!0||o.type==="keyword")L.push(Z());else throw function(){return new Error(`
`+(0,W.codeFrameFromSource)(e,o.loc)+`
Unexpected token in consequent body of type, given `+R(o))}();b(a.tokens.closeParen)}b(a.tokens.closeParen);continue}if(N(o,a.keywords.else)){for(f();o.type===a.tokens.openParen;){if(f(),F(a.tokens.name)===!0||F(a.tokens.valtype)===!0||o.type==="keyword")q.push(Z());else throw function(){return new Error(`
`+(0,W.codeFrameFromSource)(e,o.loc)+`
Unexpected token in alternate body of type, given `+R(o))}();b(a.tokens.closeParen)}b(a.tokens.closeParen);continue}if(F(a.tokens.name)===!0||F(a.tokens.valtype)===!0||o.type==="keyword"){w.push(Z()),b(a.tokens.closeParen);continue}throw function(){return new Error(`
`+(0,W.codeFrameFromSource)(e,o.loc)+`
Unexpected token in if body, given `+R(o))}()}return y.ifInstruction(h,w,m,L,q)}function Ce(){var m=y.identifier(n("loop")),h,w=[];for(o.type===a.tokens.identifier?(m=re(o),f()):m=y.withRaw(m,"");o.type===a.tokens.openParen;){if(f(),F(a.keywords.result)===!0)f(),h=o.value,f();else if(F(a.tokens.name)===!0||F(a.tokens.valtype)===!0||o.type==="keyword")w.push(Z());else throw function(){return new Error(`
`+(0,W.codeFrameFromSource)(e,o.loc)+`
Unexpected token in loop body, given `+R(o))}();b(a.tokens.closeParen)}return y.loopInstruction(m,h,w)}function kt(){for(var m,h=[],w=[],L=[];o.type!==a.tokens.closeParen;)F(a.tokens.openParen,a.keywords.type)?(f(),f(),m=Se()):F(a.tokens.openParen,a.keywords.param)?(f(),f(),o.type!==a.tokens.closeParen&&h.push.apply(h,Te($()))):F(a.tokens.openParen,a.keywords.result)?(f(),f(),o.type!==a.tokens.closeParen&&w.push.apply(w,Te(Fe()))):(b(a.tokens.openParen),L.push(Z())),b(a.tokens.closeParen);return y.callIndirectInstruction(m!==void 0?m:y.signature(h,w),L)}function _t(){if(o.type!==a.tokens.string)throw new Error("Expected string after export, got: "+o.type);var m=o.value;f();var h=$e();return y.moduleExport(m,h)}function $e(){var m=T(),h="",w;for(b(a.tokens.openParen);o.type!==a.tokens.closeParen;)N(o,a.keywords.func)?(h="Func",f(),w=C(o)):N(o,a.keywords.table)?(h="Table",f(),w=C(o)):N(o,a.keywords.global)?(h="Global",f(),w=C(o)):N(o,a.keywords.memory)&&(h="Memory",f(),w=C(o)),f();if(h==="")throw new Error("Unknown export type");if(w===void 0)throw new Error("Exported function must have a name");var L=y.moduleExportDescr(h,w),q=M();return b(a.tokens.closeParen),y.withLoc(L,q,m)}function Qe(){var m=null,h=!1,w=!1,L=[];if(o.type===a.tokens.identifier&&(m=o.value,f()),Pr("wast")&&o.type===a.tokens.name&&o.value==="binary"&&(f(),h=!0),Pr("wast")&&o.type===a.tokens.name&&o.value==="quote"&&(f(),w=!0),h===!0){for(var q=[];o.type===a.tokens.string;)q.push(o.value),f(),ee();return b(a.tokens.closeParen),y.binaryModule(m,q)}if(w===!0){for(var K=[];o.type===a.tokens.string;)K.push(o.value),f();return b(a.tokens.closeParen),y.quoteModule(m,K)}for(;o.type!==a.tokens.closeParen;)L.push(c()),s.registredExportedElements.length>0&&(s.registredExportedElements.forEach(function(z){L.push(y.moduleExport(z.name,y.moduleExportDescr(z.exportType,z.id)))}),s.registredExportedElements=[]),o=t[r];return b(a.tokens.closeParen),y.module(m,L)}function It(m){for(var h=[],w={},L=0;o.type===a.tokens.name||N(o,a.keywords.offset);){var q=o.value;f(),b(a.tokens.equal);var K=void 0;if(o.type===a.tokens.number)K=y.numberLiteralFromRaw(o.value);else throw new Error("Unexpected type for argument: "+o.type);w[q]=K,f()}for(var z=m.vector?1/0:m.length;o.type!==a.tokens.closeParen&&(o.type===a.tokens.openParen||L<z);)if(o.type===a.tokens.identifier)h.push(y.identifier(o.value)),f();else if(o.type===a.tokens.valtype)h.push(y.valtypeLiteral(o.value)),f();else if(o.type===a.tokens.string)h.push(y.stringLiteral(o.value)),f();else if(o.type===a.tokens.number)h.push(y.numberLiteralFromRaw(o.value,m[L]||"f64")),m.vector||++L,f();else if(o.type===a.tokens.openParen){if(f(),F(a.tokens.name)===!0||F(a.tokens.valtype)===!0||o.type==="keyword")h.push(Z());else throw function(){return new Error(`
`+(0,W.codeFrameFromSource)(e,o.loc)+`
Unexpected token in nested instruction, given `+R(o))}();o.type===a.tokens.closeParen&&f()}else throw function(){return new Error(`
`+(0,W.codeFrameFromSource)(e,o.loc)+`
Unexpected token in instruction argument, given `+R(o))}();return{args:h,namedArgs:w}}function Z(){var m=T();if(ee(),o.type===a.tokens.name||o.type===a.tokens.valtype){var h=o.value,w;if(f(),o.type===a.tokens.dot){w=h;var L=[];do{if(f(),o.type!==a.tokens.name)throw new TypeError("Unknown token: "+o.type+", name expected");L.push(o.value),f()}while(o.type===a.tokens.dot);h=L.join(".")}if(o.type===a.tokens.closeParen){var q=o.loc.end;return typeof w>"u"?y.withLoc(y.instruction(h),q,m):y.withLoc(y.objectInstruction(h,w,[]),q,m)}var K=y.signatureForOpcode(w||"",h),z=It(K),Je=z.args,Ye=z.namedArgs,Cr=o.loc.end;return typeof w>"u"?y.withLoc(y.instruction(h,Je,Ye),Cr,m):y.withLoc(y.objectInstruction(h,w,Je,Ye),Cr,m)}else{if(N(o,a.keywords.loop))return f(),Ce();if(N(o,a.keywords.block))return f(),U();if(N(o,a.keywords.call_indirect))return f(),kt();if(N(o,a.keywords.call)){f();var Be;o.type===a.tokens.identifier?(Be=re(o),f()):o.type===a.tokens.number&&(Be=y.indexLiteral(o.value),f());for(var Ot=[];o.type===a.tokens.openParen;)f(),Ot.push(Z()),b(a.tokens.closeParen);if(typeof Be>"u")throw new Error("Missing argument in call instruciton");return Ot.length>0?y.callInstruction(Be,Ot):y.callInstruction(Be)}else{if(N(o,a.keywords.if))return f(),xt();if(N(o,a.keywords.module)&&Pr("wast")){f();var Wo=Qe();return Wo}else throw function(){return new Error(`
`+(0,W.codeFrameFromSource)(e,o.loc)+`
Unexpected instruction in function body, given `+R(o))}()}}}function Et(){var m=y.identifier(n("func")),h,w=[],L=[],q=[];for(o.type===a.tokens.identifier?(m=re(o),f()):m=y.withRaw(m,""),ee();o.type===a.tokens.openParen||o.type===a.tokens.name||o.type===a.tokens.valtype;){if(o.type===a.tokens.name||o.type===a.tokens.valtype){w.push(Z());continue}if(f(),F(a.keywords.param)===!0)f(),L.push.apply(L,Te($()));else if(F(a.keywords.result)===!0)f(),q.push.apply(q,Te(Fe()));else if(F(a.keywords.export)===!0)f(),Mt(m);else if(F(a.keywords.type)===!0)f(),h=Se();else if(F(a.tokens.name)===!0||F(a.tokens.valtype)===!0||o.type==="keyword")w.push(Z());else throw function(){return new Error(`
`+(0,W.codeFrameFromSource)(e,o.loc)+`
Unexpected token in func body, given `+R(o))}();b(a.tokens.closeParen)}return y.func(m,h!==void 0?h:y.signature(L,q),w)}function Mt(m){if(o.type!==a.tokens.string)throw function(){return new Error(`
`+(0,W.codeFrameFromSource)(e,o.loc)+`
Function export expected a string, given `+R(o))}();var h=o.value;f();var w=y.identifier(m.value);s.registredExportedElements.push({exportType:"Func",name:h,id:w})}function qe(){var m,h=[],w=[];if(o.type===a.tokens.identifier&&(m=re(o),f()),F(a.tokens.openParen,a.keywords.func)){if(f(),f(),o.type===a.tokens.closeParen)return f(),y.typeInstruction(m,y.signature([],[]));F(a.tokens.openParen,a.keywords.param)&&(f(),f(),h=$(),b(a.tokens.closeParen)),F(a.tokens.openParen,a.keywords.result)&&(f(),f(),w=Fe(),b(a.tokens.closeParen)),b(a.tokens.closeParen)}return y.typeInstruction(m,y.signature(h,w))}function Fe(){for(var m=[];o.type!==a.tokens.closeParen;){if(o.type!==a.tokens.valtype)throw function(){return new Error(`
`+(0,W.codeFrameFromSource)(e,o.loc)+`
Unexpected token in func result, given `+R(o))}();var h=o.value;f(),m.push(h)}return m}function Se(){var m;return o.type===a.tokens.identifier?(m=re(o),f()):o.type===a.tokens.number&&(m=y.numberLiteralFromRaw(o.value),f()),m}function Ft(){var m=y.identifier(n("global")),h,w=null;if(ee(),o.type===a.tokens.identifier?(m=re(o),f()):m=y.withRaw(m,""),F(a.tokens.openParen,a.keywords.export)){f(),f();var L=o.value;b(a.tokens.string),s.registredExportedElements.push({exportType:"Global",name:L,id:m}),b(a.tokens.closeParen)}if(F(a.tokens.openParen,a.keywords.import)){f(),f();var q=o.value;b(a.tokens.string);var K=o.value;b(a.tokens.string),w={module:q,name:K,descr:void 0},b(a.tokens.closeParen)}if(o.type===a.tokens.valtype)h=y.globalType(o.value,"const"),f();else if(o.type===a.tokens.openParen){if(f(),N(o,a.keywords.mut)===!1)throw function(){return new Error(`
`+(0,W.codeFrameFromSource)(e,o.loc)+`
Unsupported global type, expected mut, given `+R(o))}();f(),h=y.globalType(o.value,"var"),f(),b(a.tokens.closeParen)}if(h===void 0)throw function(){return new Error(`
`+(0,W.codeFrameFromSource)(e,o.loc)+`
Could not determine global type, given `+R(o))}();ee();var z=[];for(w!=null&&(w.descr=h,z.push(y.moduleImport(w.module,w.name,w.descr)));o.type===a.tokens.openParen;)f(),z.push(Z()),b(a.tokens.closeParen);return y.global(h,z,m)}function $(){var m=[],h,w;if(o.type===a.tokens.identifier&&(h=o.value,f()),o.type===a.tokens.valtype&&(w=o.value,f(),m.push({id:h,valtype:w}),h===void 0))for(;o.type===a.tokens.valtype;)w=o.value,f(),m.push({id:void 0,valtype:w});return m}function Pe(){var m=y.indexLiteral(0),h=[],w=[];for(o.type===a.tokens.identifier&&(m=re(o),f()),o.type===a.tokens.number&&(m=y.indexLiteral(o.value),f());o.type!==a.tokens.closeParen;)if(F(a.tokens.openParen,a.keywords.offset)){for(f(),f();o.type!==a.tokens.closeParen;)b(a.tokens.openParen),h.push(Z()),b(a.tokens.closeParen);b(a.tokens.closeParen)}else if(o.type===a.tokens.identifier)w.push(y.identifier(o.value)),f();else if(o.type===a.tokens.number)w.push(y.indexLiteral(o.value)),f();else if(o.type===a.tokens.openParen)f(),h.push(Z()),b(a.tokens.closeParen);else throw function(){return new Error(`
`+(0,W.codeFrameFromSource)(e,o.loc)+`
Unsupported token in elem, given `+R(o))}();return y.elem(m,h,w)}function St(){if(o.type===a.tokens.identifier){var m=re(o);return f(),y.start(m)}if(o.type===a.tokens.number){var h=y.indexLiteral(o.value);return f(),y.start(h)}throw new Error("Unknown start, token: "+R(o))}if(o.type===a.tokens.openParen){f();var Q=T();if(N(o,a.keywords.export)){f();var he=_t(),ge=M();return y.withLoc(he,ge,Q)}if(N(o,a.keywords.loop)){f();var xe=Ce(),Ke=M();return y.withLoc(xe,Ke,Q)}if(N(o,a.keywords.func)){f();var Pt=Et(),Lt=M();return ee(),b(a.tokens.closeParen),y.withLoc(Pt,Lt,Q)}if(N(o,a.keywords.module)){f();var Nt=Qe(),bo=M();return y.withLoc(Nt,bo,Q)}if(N(o,a.keywords.import)){f();var wo=Me(),xo=M();return b(a.tokens.closeParen),y.withLoc(wo,xo,Q)}if(N(o,a.keywords.block)){f();var ko=U(),_o=M();return b(a.tokens.closeParen),y.withLoc(ko,_o,Q)}if(N(o,a.keywords.memory)){f();var Io=ze(),Eo=M();return b(a.tokens.closeParen),y.withLoc(Io,Eo,Q)}if(N(o,a.keywords.data)){f();var Mo=Ve(),Fo=M();return b(a.tokens.closeParen),y.withLoc(Mo,Fo,Q)}if(N(o,a.keywords.table)){f();var So=Ze(),Po=M();return b(a.tokens.closeParen),y.withLoc(So,Po,Q)}if(N(o,a.keywords.global)){f();var Lo=Ft(),No=M();return b(a.tokens.closeParen),y.withLoc(Lo,No,Q)}if(N(o,a.keywords.type)){f();var Oo=qe(),To=M();return b(a.tokens.closeParen),y.withLoc(Oo,To,Q)}if(N(o,a.keywords.start)){f();var Ao=St(),Co=M();return b(a.tokens.closeParen),y.withLoc(Ao,Co,Q)}if(N(o,a.keywords.elem)){f();var qo=Pe(),Bo=M();return b(a.tokens.closeParen),y.withLoc(qo,Bo,Q)}var Ar=Z(),jo=M();if(ee(),Xe(Ar)==="object")return typeof o<"u"&&b(a.tokens.closeParen),y.withLoc(Ar,jo,Q)}if(o.type===a.tokens.comment){var Do=T(),Ro=o.opts.type==="leading"?y.leadingComment:y.blockComment,Uo=Ro(o.value);f();var Go=M();return y.withLoc(Uo,Go,Do)}throw function(){return new Error(`
`+(0,W.codeFrameFromSource)(e,o.loc)+`
Unknown token, given `+R(o))}()}for(var p=[];r<t.length;)p.push(c());return y.program(p)}});var ho=j(Ae=>{"use strict";function wt(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wt=function(r){return typeof r}:wt=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},wt(t)}Object.defineProperty(Ae,"__esModule",{value:!0});var Nf={parse:!0};Ae.parse=Cf;var Of=Af(yo()),Tf=Sr(),Or=lt();Object.keys(Or).forEach(function(t){t==="default"||t==="__esModule"||Object.prototype.hasOwnProperty.call(Nf,t)||t in Ae&&Ae[t]===Or[t]||Object.defineProperty(Ae,t,{enumerable:!0,get:function(){return Or[t]}})});function mo(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(mo=function(s){return s?r:e})(t)}function Af(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||wt(t)!=="object"&&typeof t!="function")return{default:t};var r=mo(e);if(r&&r.has(t))return r.get(t);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if(c!=="default"&&Object.prototype.hasOwnProperty.call(t,c)){var p=s?Object.getOwnPropertyDescriptor(t,c):null;p&&(p.get||p.set)?Object.defineProperty(n,c,p):n[c]=t[c]}return n.default=t,r&&r.set(t,n),n}function Cf(t){var e=(0,Tf.tokenize)(t),r=Of.parse(e,t);return r}});var go=j(Tr=>{"use strict";Object.defineProperty(Tr,"__esModule",{value:!0});Tr.default=jf;var qf=ho(),Bf=Ir();function jf(t){var e=(0,qf.parse)(t);return(0,Bf.print)(e)}});var Df={};$o(Df,{format:()=>vo.default});var vo=Qo(go());return Ko(Df);})();
